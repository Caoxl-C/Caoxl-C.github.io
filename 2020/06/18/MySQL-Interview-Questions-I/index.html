<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>mysql 面试题 i | Keep It Simple And Stupid</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="MySQL面试题" />
  
  
  
  
  <meta name="description" content="原文地址:100道MySQL数据库经典面试题解析（收藏版）">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL 面试题 I">
<meta property="og:url" content="http://blog.caoxl.com/2020/06/18/MySQL-Interview-Questions-I/index.html">
<meta property="og:site_name" content="Keep It Simple And Stupid">
<meta property="og:description" content="原文地址:100道MySQL数据库经典面试题解析（收藏版）">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-06-18T02:09:36.000Z">
<meta property="article:modified_time" content="2020-06-18T06:13:59.000Z">
<meta property="article:author" content="CAO XIAN LIANG">
<meta property="article:tag" content="MySQL">
<meta property="article:tag" content="面试题">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Keep It Simple And Stupid" type="application/atom+xml">
  

  

  <link rel="icon" href="https://images.unsplash.com/photo-1643801026603-63d4f50be313?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=767&q=80">
  <link rel="apple-touch-icon" href="/https://images.unsplash.com/photo-1643801026603-63d4f50be313?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=767&q=80">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  
<link rel="stylesheet" href="/css/style.css">


  
<script src="/js/jquery-3.1.1.min.js"></script>

  
<script src="/js/bootstrap.js"></script>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >

  
    
<link rel="stylesheet" href="/css/dialog.css">

  

  

  
    <link rel="stylesheet" href="/css/header-post.css" >
  

  
  
  

<style type="text/css">
.spoiler {
  display: inline-flex;
}
p.spoiler {
  display: flex;
}
.spoiler a {
  pointer-events: none;
}
.spoiler-blur, .spoiler-blur > * {
  transition: text-shadow .5s ease;
}
.spoiler .spoiler-blur, .spoiler .spoiler-blur > * {
  color: rgba(0, 0, 0, 0);
  background-color: rgba(0, 0, 0, 0);
  text-shadow: 0 0 10px grey;
  cursor: pointer;
}
.spoiler .spoiler-blur:hover, .spoiler .spoiler-blur:hover > * {
  text-shadow: 0 0 5px grey;
}
.spoiler-box, .spoiler-box > * {
  transition: color .5s ease,
  background-color .5s ease;
}
.spoiler .spoiler-box, .spoiler .spoiler-box > * {
  color: black;
  background-color: black;
  text-shadow: none;
}</style><meta name="generator" content="Hexo 6.3.0"></head>



  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 margin-top: 0px;"  
                href="#" data-toggle="modal" data-target="#myModal" >
                  <img width="124px" height="124px" alt="Hike News" src="https://images.unsplash.com/photo-1643801026603-63d4f50be313?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=767&q=80">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">首页</a> </li>
                
                  <li> <a class="main-nav-link" href="/archives">归档</a> </li>
                
                  <li> <a class="main-nav-link" href="/categories">分类</a> </li>
                
                  <li> <a class="main-nav-link" href="/tags">标签</a> </li>
                
                  <li> <a class="main-nav-link" href="/about">关于</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(无标题)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>


</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-MySQL-Interview-Questions-I" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      MySQL 面试题 I
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2020/06/18/MySQL-Interview-Questions-I/" class="article-date">
	  <time datetime="2020-06-18T02:09:36.000Z" itemprop="datePublished">2020-06-18</time>
	</a>

      
    <a class="article-category-link" href="/categories/%E9%9D%A2%E8%AF%95-%E7%AC%94%E8%AF%95%E9%A2%98/">面试/笔试题</a>

      
	<a class="article-views">
	<span id="busuanzi_container_page_pv">
		阅读量<span id="busuanzi_value_page_pv"></span>
	</span>
	</a>

    </div>

    <div class="article-entry" itemprop="articleBody">
      
        
        
          <blockquote>
<p>原文地址:<a target="_blank" rel="noopener" href="https://juejin.im/post/5ec15ab9f265da7bc60e1910">100道MySQL数据库经典面试题解析（收藏版）</a></p>
</blockquote>
<span id="more"></span>

<h1 id="MySQL-索引使用有哪些注意事项呢？"><a href="#MySQL-索引使用有哪些注意事项呢？" class="headerlink" title="MySQL 索引使用有哪些注意事项呢？"></a>MySQL 索引使用有哪些注意事项呢？</h1><p>可以从三个维度回答这个问题：索引哪些情况会失效，索引不适合哪些场景，索引规则</p>
<h2 id="索引哪些情况会失效"><a href="#索引哪些情况会失效" class="headerlink" title="索引哪些情况会失效"></a>索引哪些情况会失效</h2><ul>
<li>查询条件包含or，可能导致索引失效</li>
<li>如果字段类型是字符串，where时一定用引号括起来，否则索引失效</li>
<li>like通配符可能导致索引失效。</li>
<li>联合索引，查询时的条件列不是联合索引中的第一个列，索引失效。</li>
<li>在索引列上使用mysql的内置函数，索引失效。</li>
<li>对索引列运算（如，+、-、*、&#x2F;），索引失效。</li>
<li>索引字段上使用（！&#x3D; 或者 &lt; &gt;，not in）时，可能会导致索引失效。</li>
<li>索引字段上使用is null， is not null，可能导致索引失效。</li>
<li>左连接查询或者右连接查询查询关联的字段编码格式不一样，可能导致索引失效。</li>
<li>mysql估计使用全表扫描要比使用索引快,则不使用索引。</li>
</ul>
<h2 id="索引不适合哪些场景"><a href="#索引不适合哪些场景" class="headerlink" title="索引不适合哪些场景"></a>索引不适合哪些场景</h2><ul>
<li>数据量少的不适合加索引</li>
<li>更新比较频繁的也不适合加索引</li>
<li>区分度低的字段不适合加索引（如性别）</li>
</ul>
<h2 id="索引的一些潜规则"><a href="#索引的一些潜规则" class="headerlink" title="索引的一些潜规则"></a>索引的一些潜规则</h2><ul>
<li>覆盖索引</li>
<li>回表</li>
<li>索引数据结构（B+树）</li>
<li>最左前缀原则</li>
<li>索引下推</li>
</ul>
<h1 id="MySQL-遇到过死锁问题吗，你是如何解决的？"><a href="#MySQL-遇到过死锁问题吗，你是如何解决的？" class="headerlink" title="MySQL 遇到过死锁问题吗，你是如何解决的？"></a>MySQL 遇到过死锁问题吗，你是如何解决的？</h1><ul>
<li>查看死锁日志<code>show engine innodb status;</code></li>
<li>找出死锁Sql</li>
<li>分析sql加锁情况</li>
<li>模拟死锁案发</li>
<li>分析死锁日志</li>
<li>分析死锁结果</li>
</ul>
<h1 id="日常工作中你是怎么优化SQL的？"><a href="#日常工作中你是怎么优化SQL的？" class="headerlink" title="日常工作中你是怎么优化SQL的？"></a>日常工作中你是怎么优化SQL的？</h1><ul>
<li>加索引</li>
<li>避免返回不必要的数据</li>
<li>适当分批量进行</li>
<li>优化sql结构</li>
<li>分库分表</li>
<li>读写分离</li>
</ul>
<h1 id="说说分库与分表的设计"><a href="#说说分库与分表的设计" class="headerlink" title="说说分库与分表的设计"></a>说说分库与分表的设计</h1><p>分库分表方案，分库分表中间件，分库分表可能遇到的问题</p>
<h2 id="分库分表方案"><a href="#分库分表方案" class="headerlink" title="分库分表方案:"></a>分库分表方案:</h2><ul>
<li>水平分库：以字段为依据，按照一定策略（hash、range等），将一个库中的数据拆分到多个库中。</li>
<li>水平分表：以字段为依据，按照一定策略（hash、range等），将一个表中的数据拆分到多个表中。</li>
<li>垂直分库：以表为依据，按照业务归属不同，将不同的表拆分到不同的库中。</li>
<li>垂直分表：以字段为依据，按照字段的活跃性，将表中字段拆到不同的表（主表和扩展表）中。</li>
</ul>
<h2 id="常用的分库分表中间件："><a href="#常用的分库分表中间件：" class="headerlink" title="常用的分库分表中间件："></a>常用的分库分表中间件：</h2><ul>
<li>sharding-jdbc（当当）</li>
<li>Mycat</li>
<li>TDDL（淘宝）</li>
<li>Oceanus(58同城数据库中间件)</li>
<li>vitess（谷歌开发的数据库中间件）</li>
<li>Atlas(Qihoo 360)</li>
</ul>
<h2 id="分库分表可能遇到的问题"><a href="#分库分表可能遇到的问题" class="headerlink" title="分库分表可能遇到的问题"></a>分库分表可能遇到的问题</h2><ul>
<li>事务问题：需要用分布式事务啦</li>
<li>跨节点Join的问题：解决这一问题可以分两次查询实现</li>
<li>跨节点的count,order by,group by以及聚合函数问题：分别在各个节点上得到结果后在应用程序端进行合并。</li>
<li>数据迁移，容量规划，扩容等问题</li>
<li>ID问题：数据库被切分后，不能再依赖数据库自身的主键生成机制啦，最简单可以考虑UUID</li>
<li>跨分片的排序分页问题（后台加大pagesize处理？）</li>
</ul>
<h1 id="InnoDB与MyISAM的区别"><a href="#InnoDB与MyISAM的区别" class="headerlink" title="InnoDB与MyISAM的区别"></a>InnoDB与MyISAM的区别</h1><ul>
<li>InnoDB支持事务，MyISAM不支持事务</li>
<li>InnoDB支持外键，MyISAM不支持外键</li>
<li>InnoDB支持 MVCC(多版本并发控制)，MyISAM 不支持</li>
<li>select count(*) from table时，MyISAM更快，因为它有一个变量保存了整个表的总行数，可以直接读取，InnoDB就需要全表扫描。</li>
<li>InnoDB不支持全文索引，而MyISAM支持全文索引（5.7以后的InnoDB也支持全文索引）</li>
<li>InnoDB支持表、行级锁，而MyISAM支持表级锁</li>
<li>InnoDB表必须有主键，而MyISAM可以没有主键</li>
<li>InnoDB表需要更多的内存和存储，而MyISAM可被压缩，存储空间较小，。</li>
<li>InnoDB按主键大小有序插入，MyISAM记录插入顺序是，按记录插入顺序保存。</li>
<li>InnoDB 存储引擎提供了具有提交、回滚、崩溃恢复能力的事务安全，与 MyISAM 比 InnoDB 写的效率差一些，并且会占用更多的磁盘空间以保留数据和索引</li>
</ul>
<h1 id="数据库索引的原理，为什么要用-B-树，为什么不用二叉树？"><a href="#数据库索引的原理，为什么要用-B-树，为什么不用二叉树？" class="headerlink" title="数据库索引的原理，为什么要用 B+树，为什么不用二叉树？"></a>数据库索引的原理，为什么要用 B+树，为什么不用二叉树？</h1><p>可以从几个维度去看这个问题，查询是否够快，效率是否稳定，存储数据多少，以及查找磁盘次数，为什么不是二叉树，为什么不是平衡二叉树，为什么不是B树，而偏偏是B+树呢？</p>
<h2 id="为什么不是一般二叉树？"><a href="#为什么不是一般二叉树？" class="headerlink" title="为什么不是一般二叉树？"></a>为什么不是一般二叉树？</h2><p>如果二叉树特殊化为一个链表，相当于全表扫描。平衡二叉树相比于二叉查找树来说，查找效率更稳定，总体的查找速度也更快。</p>
<h2 id="为什么不是平衡二叉树呢？"><a href="#为什么不是平衡二叉树呢？" class="headerlink" title="为什么不是平衡二叉树呢？"></a>为什么不是平衡二叉树呢？</h2><p>我们知道，在内存比在磁盘的数据，查询效率快得多。如果树这种数据结构作为索引，那我们每查找一次数据就需要从磁盘中读取一个节点，也就是我们说的一个磁盘块，但是平衡二叉树可是每个节点只存储一个键值和数据的，如果是B树，可以存储更多的节点数据，树的高度也会降低，因此读取磁盘的次数就降下来啦，查询效率就快啦。</p>
<h2 id="那为什么不是B树而是B-树呢？"><a href="#那为什么不是B树而是B-树呢？" class="headerlink" title="那为什么不是B树而是B+树呢？"></a>那为什么不是B树而是B+树呢？</h2><ul>
<li><p>B+树非叶子节点上是不存储数据的，仅存储键值，而B树节点中不仅存储键值，也会存储数据。innodb中页的默认大小是16KB，如果不存储数据，那么就会存储更多的键值，相应的树的阶数（节点的子节点树）就会更大，树就会更矮更胖，如此一来我们查找数据进行磁盘的IO次数有会再次减少，数据查询的效率也会更快。</p>
</li>
<li><p>B+树索引的所有数据均存储在叶子节点，而且数据是按照顺序排列的，链表连着的。那么B+树使得范围查找，排序查找，分组查找以及去重查找变得异常简单。</p>
</li>
</ul>
<h1 id="聚集索引与非聚集索引的区别"><a href="#聚集索引与非聚集索引的区别" class="headerlink" title="聚集索引与非聚集索引的区别"></a>聚集索引与非聚集索引的区别</h1><ul>
<li>一个表中只能拥有一个聚集索引，而非聚集索引一个表可以存在多个。</li>
<li>聚集索引，索引中键值的逻辑顺序决定了表中相应行的物理顺序；非聚集索引，索引中索引的逻辑顺序与磁盘上行的物理存储顺序不同。</li>
<li>索引是通过二叉树的数据结构来描述的，我们可以这么理解聚簇索引：索引的叶节点就是数据节点。而非聚簇索引的叶节点仍然是索引节点，只不过有一个指针指向对应的数据块。</li>
<li>聚集索引：物理存储按照索引排序；非聚集索引：物理存储不按照索引排序；</li>
</ul>
<h1 id="limit-1000000-加载很慢的话，你是怎么解决的呢？"><a href="#limit-1000000-加载很慢的话，你是怎么解决的呢？" class="headerlink" title="limit 1000000 加载很慢的话，你是怎么解决的呢？"></a>limit 1000000 加载很慢的话，你是怎么解决的呢？</h1><ul>
<li>方案一：如果id是连续的，可以这样，返回上次查询的最大记录(偏移量)，再往下limit</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select id，name from employee where id&gt;1000000 limit 10.</span><br></pre></td></tr></table></figure>

<ul>
<li>方案二：在业务允许的情况下限制页数：</li>
</ul>
<p>建议跟业务讨论，有没有必要查这么后的分页啦。因为绝大多数用户都不会往后翻太多页。</p>
<ul>
<li>方案三：order by + 索引（id为索引）</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select id，name from employee order by id  limit 1000000，10</span><br></pre></td></tr></table></figure>

<ul>
<li>方案四：利用延迟关联或者子查询优化超多分页场景。（先快速定位需要获取的id段，然后再关联）</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT a.* FROM employee a, (select id from employee where 条件 LIMIT 1000000,10 ) b where a.id=b.id</span><br></pre></td></tr></table></figure>

<h1 id="如何选择合适的分布式主键方案呢？"><a href="#如何选择合适的分布式主键方案呢？" class="headerlink" title="如何选择合适的分布式主键方案呢？"></a>如何选择合适的分布式主键方案呢？</h1><ul>
<li>数据库自增长序列或字段。</li>
<li>UUID</li>
<li>Redis生成ID</li>
<li>Twitter的snowflake算法</li>
<li>利用zookeeper生成唯一ID</li>
<li>MongoDB的ObjectId</li>
</ul>
<h1 id="事务的隔离级别有哪些？MySQL的默认隔离级别是什么？"><a href="#事务的隔离级别有哪些？MySQL的默认隔离级别是什么？" class="headerlink" title="事务的隔离级别有哪些？MySQL的默认隔离级别是什么？"></a>事务的隔离级别有哪些？MySQL的默认隔离级别是什么？</h1><ul>
<li>读未提交（Read Uncommitted）</li>
<li>读已提交（Read Committed）</li>
<li>可重复读（Repeatable Read）</li>
<li>串行化（Serializable）</li>
</ul>
<p>Mysql默认的事务隔离级别是可重复读(Repeatable Read)</p>
<h1 id="什么是幻读，脏读，不可重复读呢？"><a href="#什么是幻读，脏读，不可重复读呢？" class="headerlink" title="什么是幻读，脏读，不可重复读呢？"></a>什么是幻读，脏读，不可重复读呢？</h1><ul>
<li>事务A、B交替执行，事务A被事务B干扰到了，因为事务A读取到事务B未提交的数据,这就是<strong>脏读</strong></li>
<li>在一个事务范围内，两个相同的查询，读取同一条记录，却返回了不同的数据，这就是<strong>不可重复读</strong>。</li>
<li>事务A查询一个范围的结果集，另一个并发事务B往这个范围中插入&#x2F;删除了数据，并静悄悄地提交，然后事务A再次查询相同的范围，两次读取得到的结果集不一样了，这就是<strong>幻读</strong>。</li>
</ul>
<h1 id="在高并发情况下，如何做到安全的修改同一行数据？"><a href="#在高并发情况下，如何做到安全的修改同一行数据？" class="headerlink" title="在高并发情况下，如何做到安全的修改同一行数据？"></a>在高并发情况下，如何做到安全的修改同一行数据？</h1><p>要安全的修改同一行数据，就要保证一个线程在修改时其它线程无法更新这行记录。一般有悲观锁和乐观锁两种方案~</p>
<h2 id="使用悲观锁"><a href="#使用悲观锁" class="headerlink" title="使用悲观锁"></a>使用悲观锁</h2><p>悲观锁思想就是，当前线程要进来修改数据时，别的线程都得拒之门外~ 比如，可以使用select…for update ~</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from User where name = &#x27;jay&#x27; for update</span><br></pre></td></tr></table></figure>

<p>以上这条sql语句会锁定了User表中所有符合检索条件（name&#x3D;’jay’）的记录。本次事务提交之前，别的线程都无法修改这些记录。</p>
<h2 id="使用乐观锁"><a href="#使用乐观锁" class="headerlink" title="使用乐观锁"></a>使用乐观锁</h2><p>乐观锁思想就是，有线程过来，先放过去修改，如果看到别的线程没修改过，就可以修改成功，如果别的线程修改过，就修改失败或者重试。实现方式：乐观锁一般会使用版本号机制或CAS算法实现。</p>
<h1 id="数据库的乐观锁和悲观锁。"><a href="#数据库的乐观锁和悲观锁。" class="headerlink" title="数据库的乐观锁和悲观锁。"></a>数据库的乐观锁和悲观锁。</h1><h2 id="悲观锁"><a href="#悲观锁" class="headerlink" title="悲观锁"></a>悲观锁</h2><p>悲观锁她专一且缺乏安全感了，她的心只属于当前事务，每时每刻都担心着它心爱的数据可能被别的事务修改，所以一个事务拥有（获得）悲观锁后，其他任何事务都不能对数据进行修改啦，只能等待锁被释放才可以执行。</p>
<h2 id="乐观锁"><a href="#乐观锁" class="headerlink" title="乐观锁"></a>乐观锁</h2><p>乐观锁的“乐观情绪”体现在，它认为数据的变动不会太频繁。因此，它允许多个事务同时对数据进行变动。实现方式：乐观锁一般会使用版本号机制或CAS算法实现。</p>
<h1 id="SQL优化的一般步骤是什么，怎么看执行计划（explain），如何理解其中各个字段的含义。"><a href="#SQL优化的一般步骤是什么，怎么看执行计划（explain），如何理解其中各个字段的含义。" class="headerlink" title="SQL优化的一般步骤是什么，怎么看执行计划（explain），如何理解其中各个字段的含义。"></a>SQL优化的一般步骤是什么，怎么看执行计划（explain），如何理解其中各个字段的含义。</h1><ul>
<li>show status 命令了解各种 sql 的执行频率</li>
<li>通过慢查询日志定位那些执行效率较低的 sql 语句</li>
<li>explain 分析低效 sql 的执行计划（这点非常重要，日常开发中用它分析Sql，会大大降低Sql导致的线上事故）</li>
</ul>
<h1 id="select-for-update有什么含义，会锁表还是锁行还是其他。"><a href="#select-for-update有什么含义，会锁表还是锁行还是其他。" class="headerlink" title="select for update有什么含义，会锁表还是锁行还是其他。"></a>select for update有什么含义，会锁表还是锁行还是其他。</h1><h2 id="select-for-update-含义"><a href="#select-for-update-含义" class="headerlink" title="select for update 含义"></a>select for update 含义</h2><p>select查询语句是不会加锁的，但是select for update除了有查询的作用外，还会加锁呢，而且它是悲观锁哦。至于加了是行锁还是表锁，这就要看是不是用了索引&#x2F;主键啦。</p>
<p>没用索引&#x2F;主键的话就是表锁，否则就是是行锁。</p>
<h2 id="select-for-update-加锁验证"><a href="#select-for-update-加锁验证" class="headerlink" title="select for update 加锁验证"></a>select for update 加锁验证</h2><p>没用索引&#x2F;主键的话，select for update加的就是表锁</p>
<h1 id="MySQL事务得四大特性以及实现原理"><a href="#MySQL事务得四大特性以及实现原理" class="headerlink" title="MySQL事务得四大特性以及实现原理"></a>MySQL事务得四大特性以及实现原理</h1><ul>
<li>原子性： 事务作为一个整体被执行，包含在其中的对数据库的操作要么全部被执行，要么都不执行。</li>
<li>一致性： 指在事务开始之前和事务结束以后，数据不会被破坏，假如A账户给B账户转10块钱，不管成功与否，A和B的总金额是不变的。</li>
<li>隔离性： 多个事务并发访问时，事务之间是相互隔离的，即一个事务不影响其它事务运行效果。简言之，就是事务之间是进水不犯河水的。</li>
<li>持久性： 表示事务完成以后，该事务对数据库所作的操作更改，将持久地保存在数据库之中。</li>
</ul>
<h2 id="事务ACID特性的实现思想"><a href="#事务ACID特性的实现思想" class="headerlink" title="事务ACID特性的实现思想"></a>事务ACID特性的实现思想</h2><ul>
<li>原子性：是使用 undo log来实现的，如果事务执行过程中出错或者用户执行了rollback，系统通过undo log日志返回事务开始的状态。</li>
<li>持久性：使用 redo log来实现，只要redo log日志持久化了，当系统崩溃，即可通过redo log把数据恢复。</li>
<li>隔离性：通过锁以及MVCC,使事务相互隔离开。</li>
<li>一致性：通过回滚、恢复，以及并发情况下的隔离性，从而实现一致性。</li>
</ul>
<h1 id="如果某个表有近千万数据，CRUD比较慢，如何优化。"><a href="#如果某个表有近千万数据，CRUD比较慢，如何优化。" class="headerlink" title="如果某个表有近千万数据，CRUD比较慢，如何优化。"></a>如果某个表有近千万数据，CRUD比较慢，如何优化。</h1><h2 id="分库分表"><a href="#分库分表" class="headerlink" title="分库分表"></a>分库分表</h2><p>某个表有近千万数据，可以考虑优化表结构，分表（水平分表，垂直分表），当然，你这样回答，需要准备好面试官问你的分库分表相关问题呀，如</p>
<ul>
<li>分表方案（水平分表，垂直分表，切分规则hash等）</li>
<li>分库分表中间件（Mycat，sharding-jdbc等）</li>
<li>分库分表一些问题（事务问题？跨节点Join的问题）</li>
<li>解决方案（分布式事务等）</li>
</ul>
<h2 id="索引优化"><a href="#索引优化" class="headerlink" title="索引优化"></a>索引优化</h2><p>除了分库分表，优化表结构，当然还有所以索引优化等方案~</p>
<h1 id="如何写sql能够有效的使用到复合索引。"><a href="#如何写sql能够有效的使用到复合索引。" class="headerlink" title="如何写sql能够有效的使用到复合索引。"></a>如何写sql能够有效的使用到复合索引。</h1><p>复合索引，也叫组合索引，用户可以在多个列上建立索引,这种索引叫做复合索引。</p>
<p>当我们创建一个组合索引的时候，如(k1,k2,k3)，相当于创建了（k1）、(k1,k2)和(k1,k2,k3)三个索引，这就是最左匹配原则。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from table where k1=A AND k2=B AND k3=D </span><br></pre></td></tr></table></figure>

<p>有关于复合索引，我们需要关注查询Sql条件的顺序，确保最左匹配原则有效，同时可以删除不必要的冗余索引。</p>
<h1 id="MVCC熟悉吗，它的底层原理？"><a href="#MVCC熟悉吗，它的底层原理？" class="headerlink" title="MVCC熟悉吗，它的底层原理？"></a>MVCC熟悉吗，它的底层原理？</h1><p>MVCC,多版本并发控制,它是通过读取历史版本的数据，来降低并发事务冲突，从而提高并发性能的一种机制。</p>
<h2 id="MVCC需要关注这几个知识点："><a href="#MVCC需要关注这几个知识点：" class="headerlink" title="MVCC需要关注这几个知识点："></a>MVCC需要关注这几个知识点：</h2><ul>
<li>事务版本号</li>
<li>表的隐藏列</li>
<li>undo log</li>
<li>read view</li>
</ul>
<h1 id="MYSQL的主从延迟，你怎么解决？"><a href="#MYSQL的主从延迟，你怎么解决？" class="headerlink" title="MYSQL的主从延迟，你怎么解决？"></a>MYSQL的主从延迟，你怎么解决？</h1><p>主从复制分了五个步骤进行：</p>
<ul>
<li>步骤一：主库的更新事件(update、insert、delete)被写到binlog</li>
<li>步骤二：从库发起连接，连接到主库。</li>
<li>步骤三：此时主库创建一个binlog dump thread，把binlog的内容发送到从库。</li>
<li>步骤四：从库启动之后，创建一个I&#x2F;O线程，读取主库传过来的binlog内容并写入到relay log</li>
<li>步骤五：还会创建一个SQL线程，从relay log里面读取内容，从Exec_Master_Log_Pos位置开始执行读取到的更新事件，将更新内容写入到slave的db</li>
</ul>
<h2 id="主从同步延迟的原因"><a href="#主从同步延迟的原因" class="headerlink" title="主从同步延迟的原因"></a>主从同步延迟的原因</h2><p>一个服务器开放Ｎ个链接给客户端来连接的，这样有会有大并发的更新操作, 但是从服务器的里面读取binlog的线程仅有一个，当某个SQL在从服务器上执行的时间稍长 或者由于某个SQL要进行锁表就会导致，主服务器的SQL大量积压，未被同步到从服务器里。这就导致了主从不一致， 也就是主从延迟。</p>
<h2 id="主从同步延迟的解决办法"><a href="#主从同步延迟的解决办法" class="headerlink" title="主从同步延迟的解决办法"></a>主从同步延迟的解决办法</h2><ul>
<li>主服务器要负责更新操作，对安全性的要求比从服务器要高，所以有些设置参数可以修改，比如<code>sync_binlog=1</code>，<code>innodb_flush_log_at_trx_commit = 1</code> 之类的设置等。</li>
<li>选择更好的硬件设备作为slave。</li>
<li>把一台从服务器当度作为备份使用， 而不提供查询， 那边他的负载下来了， 执行relay log 里面的SQL效率自然就高了。</li>
<li>增加从服务器喽，这个目的还是分散读的压力，从而降低服务器负载。</li>
</ul>
<h1 id="什么是数据库连接池-为什么需要数据库连接池呢"><a href="#什么是数据库连接池-为什么需要数据库连接池呢" class="headerlink" title="什么是数据库连接池?为什么需要数据库连接池呢?"></a>什么是数据库连接池?为什么需要数据库连接池呢?</h1><p><strong>连接池基本原理</strong>： 数据库连接池原理：在内部对象池中，维护一定数量的数据库连接，并对外暴露数据库连接的获取和返回方法。</p>
<h2 id="应用程序和数据库建立连接的过程："><a href="#应用程序和数据库建立连接的过程：" class="headerlink" title="应用程序和数据库建立连接的过程："></a>应用程序和数据库建立连接的过程：</h2><ul>
<li>通过TCP协议的三次握手和数据库服务器建立连接</li>
<li>发送数据库用户账号密码，等待数据库验证用户身份</li>
<li>完成身份验证后，系统可以提交SQL语句到数据库执行</li>
<li>把连接关闭，TCP四次挥手告别。</li>
</ul>
<h2 id="数据库连接池好处："><a href="#数据库连接池好处：" class="headerlink" title="数据库连接池好处："></a>数据库连接池好处：</h2><ul>
<li>资源重用 (连接复用)</li>
<li>更快的系统响应速度</li>
<li>新的资源分配手段</li>
<li>统一的连接管理，避免数据库连接泄漏</li>
</ul>
<h1 id="一条SQL语句在MySQL中如何执行的？"><a href="#一条SQL语句在MySQL中如何执行的？" class="headerlink" title="一条SQL语句在MySQL中如何执行的？"></a>一条SQL语句在MySQL中如何执行的？</h1><h2 id="查询语句"><a href="#查询语句" class="headerlink" title="查询语句"></a>查询语句</h2><ul>
<li>先检查该语句是否有权限</li>
<li>如果没有权限，直接返回错误信息</li>
<li>如果有权限，在 MySQL8.0 版本以前，会先查询缓存。</li>
<li>如果没有缓存，分析器进行词法分析，提取 sql 语句select等的关键元素。然后判断sql 语句是否有语法错误，比如关键词是否正确等等。</li>
<li>优化器进行确定执行方案</li>
<li>进行权限校验，如果没有权限就直接返回错误信息，如果有权限就会调用数据库引擎接口，返回执行结果。</li>
</ul>
<h1 id="InnoDB引擎中的索引策略，了解过吗？"><a href="#InnoDB引擎中的索引策略，了解过吗？" class="headerlink" title="InnoDB引擎中的索引策略，了解过吗？"></a>InnoDB引擎中的索引策略，了解过吗？</h1><ul>
<li>覆盖索引</li>
<li>最左前缀原则</li>
<li>索引下推</li>
</ul>
<p>索引下推优化是 MySQL 5.6 引入的， 可以在索引遍历过程中，对索引中包含的字段先做判断，直接过滤掉不满足条件的记录，减少回表次数。</p>
<h1 id="数据库存储日期格式时，如何考虑时区转换问题？"><a href="#数据库存储日期格式时，如何考虑时区转换问题？" class="headerlink" title="数据库存储日期格式时，如何考虑时区转换问题？"></a>数据库存储日期格式时，如何考虑时区转换问题？</h1><ul>
<li><code>datetime</code>类型适合用来记录数据的原始的创建时间，修改记录中其他字段的值，<code>datetime</code>字段的值不会改变，除非手动修改它。</li>
<li><code>timestamp</code>类型适合用来记录数据的最后修改时间，只要修改了记录中其他字段的值，<code>timestamp</code>字段的值都会被自动更新。</li>
</ul>
<h1 id="一条sql执行过长的时间，你如何优化，从哪些方面入手？"><a href="#一条sql执行过长的时间，你如何优化，从哪些方面入手？" class="headerlink" title="一条sql执行过长的时间，你如何优化，从哪些方面入手？"></a>一条sql执行过长的时间，你如何优化，从哪些方面入手？</h1><ul>
<li>查看是否涉及多表和子查询，优化Sql结构，如去除冗余字段，是否可拆表等</li>
<li>优化索引结构，看是否可以适当添加索引</li>
<li>数量大的表，可以考虑进行分离&#x2F;分表（如交易流水表）</li>
<li>数据库主从分离，读写分离</li>
<li>explain分析sql语句，查看执行计划，优化sql</li>
<li>查看mysql执行日志，分析是否有其他方面的问题</li>
</ul>
<h1 id="MYSQL数据库服务器性能分析的方法命令有哪些"><a href="#MYSQL数据库服务器性能分析的方法命令有哪些" class="headerlink" title="MYSQL数据库服务器性能分析的方法命令有哪些?"></a>MYSQL数据库服务器性能分析的方法命令有哪些?</h1><ul>
<li>Show status, 一些值得监控的变量值：</li>
</ul>
<blockquote>
<ul>
<li>Bytes_received和Bytes_sent 和服务器之间来往的流量。</li>
<li>Com_*服务器正在执行的命令。</li>
<li>Created_*在查询执行期限间创建的临时表和文件。</li>
<li>Handler_*存储引擎操作。</li>
<li>Select_*不同类型的联接执行计划。</li>
<li>Sort_*几种排序信息。</li>
</ul>
</blockquote>
<ul>
<li>Show profiles 是MySql用来分析当前会话SQL语句执行的资源消耗情况</li>
</ul>
<h1 id="Blob和text有什么区别？"><a href="#Blob和text有什么区别？" class="headerlink" title="Blob和text有什么区别？"></a>Blob和text有什么区别？</h1><ul>
<li>Blob用于存储二进制数据，而Text用于存储大字符串。</li>
<li>Blob值被视为二进制字符串（字节字符串）,它们没有字符集，并且排序和比较基于列值中的字节的数值。</li>
<li>text值被视为非二进制字符串（字符字符串）。它们有一个字符集，并根据字符集的排序规则对值进行排序和比较。</li>
</ul>
<h1 id="Mysql中有哪几种锁，列举一下？"><a href="#Mysql中有哪几种锁，列举一下？" class="headerlink" title="Mysql中有哪几种锁，列举一下？"></a>Mysql中有哪几种锁，列举一下？</h1><p>如果按锁粒度划分，有以下3种：</p>
<ul>
<li>表锁： 开销小，加锁快；锁定力度大，发生锁冲突概率高，并发度最低;不会出现死锁。</li>
<li>行锁： 开销大，加锁慢；会出现死锁；锁定粒度小，发生锁冲突的概率低，并发度高。</li>
<li>页锁： 开销和加锁速度介于表锁和行锁之间；会出现死锁；锁定粒度介于表锁和行锁之间，并发度一般</li>
</ul>
<h1 id="Hash索引和B-树区别是什么？你在设计索引是怎么抉择的？"><a href="#Hash索引和B-树区别是什么？你在设计索引是怎么抉择的？" class="headerlink" title="Hash索引和B+树区别是什么？你在设计索引是怎么抉择的？"></a>Hash索引和B+树区别是什么？你在设计索引是怎么抉择的？</h1><ul>
<li>B+树可以进行范围查询，Hash索引不能。</li>
<li>B+树支持联合索引的最左侧原则，Hash索引不支持。</li>
<li>B+树支持order by排序，Hash索引不支持。</li>
<li>Hash索引在等值查询上比B+树效率更高。</li>
<li>B+树使用like 进行模糊查询的时候，like后面（比如%开头）的话可以起到优化的作用，Hash索引根本无法进行模糊查询。</li>
</ul>
<h1 id="mysql-的内连接、左连接、右连接有什么区别？"><a href="#mysql-的内连接、左连接、右连接有什么区别？" class="headerlink" title="mysql 的内连接、左连接、右连接有什么区别？"></a>mysql 的内连接、左连接、右连接有什么区别？</h1><ul>
<li>Inner join 内连接，在两张表进行连接查询时，只保留两张表中完全匹配的结果集</li>
<li>left join 在两张表进行连接查询时，会返回左表所有的行，即使在右表中没有匹配的记录。</li>
<li>right join 在两张表进行连接查询时，会返回右表所有的行，即使在左表中没有匹配的记录。</li>
</ul>
<h1 id="mysql有关权限的表有哪几个呢？"><a href="#mysql有关权限的表有哪几个呢？" class="headerlink" title="mysql有关权限的表有哪几个呢？"></a>mysql有关权限的表有哪几个呢？</h1><p>MySQL服务器通过权限表来控制用户对数据库的访问，权限表存放在mysql数据库里，由<code>mysql_install_db</code>脚本初始化。这些权限表分别<code>user</code>，<code>db</code>，<code>table_priv</code>，<code>columns_priv</code>和<code>host</code>。</p>
<ul>
<li><code>user</code>权限表：记录允许连接到服务器的用户帐号信息，里面的权限是全局级的。</li>
<li><code>db</code>权限表：记录各个帐号在各个数据库上的操作权限。</li>
<li><code>table_priv</code>权限表：记录数据表级的操作权限。</li>
<li><code>columns_priv</code>权限表：记录数据列级的操作权限。</li>
<li><code>host</code>权限表：配合db权限表对给定主机上数据库级操作权限作更细致的控制。这个权限表不受GRANT和REVOKE语句的影响。</li>
</ul>
<h1 id="Mysql的binlog有几种录入格式？分别有什么区别？"><a href="#Mysql的binlog有几种录入格式？分别有什么区别？" class="headerlink" title="Mysql的binlog有几种录入格式？分别有什么区别？"></a>Mysql的binlog有几种录入格式？分别有什么区别？</h1><p>有三种格式哈，statement，row和mixed。</p>
<ul>
<li>statement，每一条会修改数据的sql都会记录在binlog中。不需要记录每一行的变化，减少了binlog日志量，节约了IO，提高性能。由于sql的执行是有上下文的，因此在保存的时候需要保存相关的信息，同时还有一些使用了函数之类的语句无法被记录复制。</li>
<li>row，不记录sql语句上下文相关信息，仅保存哪条记录被修改。记录单元为每一行的改动，基本是可以全部记下来但是由于很多操作，会导致大量行的改动(比如alter table)，因此这种模式的文件保存的信息太多，日志量太大。</li>
<li>mixed，一种折中的方案，普通操作使用statement记录，当无法使用statement的时候使用row。</li>
</ul>
<h1 id="InnoDB引擎的4大特性，了解过吗"><a href="#InnoDB引擎的4大特性，了解过吗" class="headerlink" title="InnoDB引擎的4大特性，了解过吗"></a>InnoDB引擎的4大特性，了解过吗</h1><ul>
<li>插入缓冲（insert buffer)</li>
<li>二次写(double write)</li>
<li>自适应哈希索引(ahi)</li>
<li>预读(read ahead)</li>
</ul>
<h1 id="索引有哪些优缺点？"><a href="#索引有哪些优缺点？" class="headerlink" title="索引有哪些优缺点？"></a>索引有哪些优缺点？</h1><h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ul>
<li>唯一索引可以保证数据库表中每一行的数据的唯一性</li>
<li>索引可以加快数据查询速度，减少查询时间</li>
</ul>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><ul>
<li>创建索引和维护索引要耗费时间</li>
<li>索引需要占物理空间，除了数据表占用数据空间之外，每一个索引还要占用一定的物理空间</li>
<li>以表中的数据进行增、删、改的时候，索引也要动态的维护。</li>
</ul>
<h1 id="索引有哪几种类型？"><a href="#索引有哪几种类型？" class="headerlink" title="索引有哪几种类型？"></a>索引有哪几种类型？</h1><ul>
<li>主键索引: 数据列不允许重复，不允许为NULL，一个表只能有一个主键。</li>
<li>唯一索引: 数据列不允许重复，允许为NULL值，一个表允许多个列创建唯一索引。</li>
<li>普通索引: 基本的索引类型，没有唯一性的限制，允许为NULL值。</li>
<li>全文索引：是目前搜索引擎使用的一种关键技术，对文本的内容进行分词、搜索。</li>
<li>覆盖索引：查询列要被所建的索引覆盖，不必读取数据行</li>
<li>组合索引：多列值组成一个索引，用于组合搜索，效率大于索引合并</li>
</ul>
<h1 id="创建索引有什么原则呢？"><a href="#创建索引有什么原则呢？" class="headerlink" title="创建索引有什么原则呢？"></a>创建索引有什么原则呢？</h1><ul>
<li>最左前缀匹配原则</li>
<li>频繁作为查询条件的字段才去创建索引</li>
<li>频繁更新的字段不适合创建索引</li>
<li>索引列不能参与计算，不能有函数操作</li>
<li>优先考虑扩展索引，而不是新建索引，避免不必要的索引</li>
<li>在order by或者group by子句中，创建索引需要注意顺序</li>
<li>区分度低的数据列不适合做索引列(如性别）</li>
<li>定义有外键的数据列一定要建立索引。</li>
<li>对于定义为text、image数据类型的列不要建立索引。</li>
<li>删除不再使用或者很少使用的索引</li>
</ul>
<h1 id="创建索引的三种方式"><a href="#创建索引的三种方式" class="headerlink" title="创建索引的三种方式"></a>创建索引的三种方式</h1><ul>
<li>在执行CREATE TABLE时创建索引</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `employee` (</span><br><span class="line">  `id` int(11) NOT NULL,</span><br><span class="line">  `name` varchar(255) DEFAULT NULL,</span><br><span class="line">  PRIMARY KEY (`id`),</span><br><span class="line">  KEY `idx_name` (`name`) USING BTREE</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br></pre></td></tr></table></figure>

<ul>
<li>使用ALTER TABLE命令添加索引</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name ADD INDEX index_name (column);</span><br></pre></td></tr></table></figure>

<ul>
<li>使用CREATE INDEX命令创建</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE INDEX index_name ON table_name (column);</span><br></pre></td></tr></table></figure>

<h1 id="覆盖索引、回表等这些，了解过吗？"><a href="#覆盖索引、回表等这些，了解过吗？" class="headerlink" title="覆盖索引、回表等这些，了解过吗？"></a>覆盖索引、回表等这些，了解过吗？</h1><ul>
<li>覆盖索引： 查询列要被所建的索引覆盖，不必从数据表中读取，换句话说查询列要被所使用的索引覆盖。</li>
<li>回表：二级索引无法直接查询所有列的数据，所以通过二级索引查询到聚簇索引后，再查询到想要的数据，这种通过二级索引查询出来的过程，就叫做回表。</li>
</ul>
<h1 id="为什么要使用视图？什么是视图？"><a href="#为什么要使用视图？什么是视图？" class="headerlink" title="为什么要使用视图？什么是视图？"></a>为什么要使用视图？什么是视图？</h1><h2 id="为什么要使用视图？"><a href="#为什么要使用视图？" class="headerlink" title="为什么要使用视图？"></a>为什么要使用视图？</h2><p>为了提高复杂SQL语句的复用性和表操作的安全性，MySQL数据库管理系统提供了视图特性。</p>
<h2 id="什么是视图？"><a href="#什么是视图？" class="headerlink" title="什么是视图？"></a>什么是视图？</h2><p>视图是一个虚拟的表，是一个表中的数据经过某种筛选后的显示方式，视图由一个预定义的查询select语句组成。</p>
<h1 id="视图有哪些特点？哪些使用场景？"><a href="#视图有哪些特点？哪些使用场景？" class="headerlink" title="视图有哪些特点？哪些使用场景？"></a>视图有哪些特点？哪些使用场景？</h1><h2 id="视图特点："><a href="#视图特点：" class="headerlink" title="视图特点："></a>视图特点：</h2><ul>
<li>视图的列可以来自不同的表，是表的抽象和在逻辑意义上建立的新关系。</li>
<li>视图是由基本表(实表)产生的表(虚表)。</li>
<li>视图的建立和删除不影响基本表。</li>
<li>对视图内容的更新(添加，删除和修改)直接影响基本表。</li>
<li>当视图来自多个基本表时，不允许添加和删除数据。</li>
</ul>
<h2 id="视图用途"><a href="#视图用途" class="headerlink" title="视图用途"></a>视图用途</h2><p>简化sql查询，提高开发效率，兼容老的表结构。</p>
<h2 id="视图的常见使用场景"><a href="#视图的常见使用场景" class="headerlink" title="视图的常见使用场景"></a>视图的常见使用场景</h2><ul>
<li>重用SQL语句；</li>
<li>简化复杂的SQL操作。</li>
<li>使用表的组成部分而不是整个表；</li>
<li>保护数据</li>
<li>更改数据格式和表示。视图可返回与底层表的表示和格式不同的数据。</li>
</ul>
<h1 id="MySQL中都有哪些触发器？"><a href="#MySQL中都有哪些触发器？" class="headerlink" title="MySQL中都有哪些触发器？"></a>MySQL中都有哪些触发器？</h1><p>MySQL 数据库中有六种触发器：</p>
<ul>
<li><code>Before Insert</code></li>
<li><code>After Insert</code></li>
<li><code>Before Update</code></li>
<li><code>After Update</code></li>
<li><code>Before Delete</code></li>
<li><code>After Delete</code></li>
</ul>
<h1 id="SQL-约束有哪几种呢？"><a href="#SQL-约束有哪几种呢？" class="headerlink" title="SQL 约束有哪几种呢？"></a>SQL 约束有哪几种呢？</h1><ul>
<li><code>NOT NULL</code>: 约束字段的内容一定不能为NULL。</li>
<li><code>UNIQUE</code>: 约束字段唯一性，一个表允许有多个 Unique 约束。</li>
<li><code>PRIMARY KEY</code>: 约束字段唯一，不可重复，一个表只允许存在一个。</li>
<li><code>FOREIGN KEY</code>: 用于预防破坏表之间连接的动作，也能防止非法数据插入外键。</li>
<li><code>CHECK</code>: 用于控制字段的值范围。</li>
</ul>
<h1 id="UNION与UNION-ALL的区别？"><a href="#UNION与UNION-ALL的区别？" class="headerlink" title="UNION与UNION ALL的区别？"></a>UNION与UNION ALL的区别？</h1><ul>
<li>Union：对两个结果集进行并集操作，不包括重复行，同时进行默认规则的排序；</li>
<li>Union All：对两个结果集进行并集操作，包括重复行，不进行排序；</li>
<li>UNION的效率高于 UNION ALL</li>
</ul>
<h1 id="SQL的生命周期？"><a href="#SQL的生命周期？" class="headerlink" title="SQL的生命周期？"></a>SQL的生命周期？</h1><ul>
<li>服务器与数据库建立连接</li>
<li>数据库进程拿到请求sql</li>
<li>解析并生成执行计划，执行</li>
<li>读取数据到内存，并进行逻辑处理</li>
<li>通过步骤一的连接，发送结果到客户端</li>
<li>关掉连接，释放资源</li>
</ul>
<h1 id="你是否做过主从一致性校验，如果有，怎么做的，如果没有，你打算怎么做？"><a href="#你是否做过主从一致性校验，如果有，怎么做的，如果没有，你打算怎么做？" class="headerlink" title="你是否做过主从一致性校验，如果有，怎么做的，如果没有，你打算怎么做？"></a>你是否做过主从一致性校验，如果有，怎么做的，如果没有，你打算怎么做？</h1><p>主从一致性校验有多种工具 例如checksum、mysqldiff、pt-table-checksum等</p>
<h1 id="你们数据库是否支持emoji表情存储，如果不支持，如何操作？"><a href="#你们数据库是否支持emoji表情存储，如果不支持，如何操作？" class="headerlink" title="你们数据库是否支持emoji表情存储，如果不支持，如何操作？"></a>你们数据库是否支持emoji表情存储，如果不支持，如何操作？</h1><p>更换字符集utf8–&gt;utf8mb4</p>
<h1 id="一个6亿的表a，一个3亿的表b，通过外间tid关联，你如何最快的查询出满足条件的第50000到第50200中的这200条数据记录。"><a href="#一个6亿的表a，一个3亿的表b，通过外间tid关联，你如何最快的查询出满足条件的第50000到第50200中的这200条数据记录。" class="headerlink" title="一个6亿的表a，一个3亿的表b，通过外间tid关联，你如何最快的查询出满足条件的第50000到第50200中的这200条数据记录。"></a>一个6亿的表a，一个3亿的表b，通过外间tid关联，你如何最快的查询出满足条件的第50000到第50200中的这200条数据记录。</h1><ul>
<li>如果A表TID是自增长,并且是连续的,B表的ID为索引</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from a,b where a.tid = b.id and a.tid&gt;500000 limit 200;</span><br></pre></td></tr></table></figure>

<ul>
<li>如果A表的TID不是连续的,那么就需要使用覆盖索引.TID要么是主键,要么是辅助索引,B表ID也需要有索引。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from b , (select tid from a limit 50000,200) a where b.id = a .tid;</span><br></pre></td></tr></table></figure>

<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5de99dd2518825125e1ba49d">后端程序员必备：索引失效的十大杂症</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5e8b269f518825739379e82c">手把手教你分析Mysql死锁问题</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/5ea16dede51d45470b4ffc5b">没内鬼，来点干货！SQL优化和诊断</a></li>
</ul>

        
      
    </div>

    <footer class="article-footer">
      
      
      <div>
        <ul class="post-copyright">
          <li class="post-copyright-author">
          <strong>本文作者:  </strong>CAO XIAN LIANG</a>
          </li>
          <li class="post-copyright-link">
          <strong>本文链接:  </strong>
          <a href="/2020/06/18/MySQL-Interview-Questions-I/" target="_blank" title="MySQL 面试题 I">http://blog.caoxl.com/2020/06/18/MySQL-Interview-Questions-I/</a>
          </li>
          <li class="post-copyright-license">
            <strong>版权声明:   </strong>
            本博客所有文章除特别声明外，均采用 <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
            许可协议。转载请注明出处
          </li>
         
        </ul>
<div>

      
      
      
      
        
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag">面试题</a></li></ul>

      

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/06/18/MySQL-Interview-Questions-II/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          MySQL 面试题 II
        
      </div>
    </a>
  
  
    <a href="/2020/06/15/Git-Use-Notes/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">三年 Git 使用心得 &amp; 常见问题整理</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#MySQL-%E7%B4%A2%E5%BC%95%E4%BD%BF%E7%94%A8%E6%9C%89%E5%93%AA%E4%BA%9B%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%E5%91%A2%EF%BC%9F"><span class="nav-number">1.</span> <span class="nav-text">MySQL 索引使用有哪些注意事项呢？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E5%93%AA%E4%BA%9B%E6%83%85%E5%86%B5%E4%BC%9A%E5%A4%B1%E6%95%88"><span class="nav-number">1.1.</span> <span class="nav-text">索引哪些情况会失效</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E4%B8%8D%E9%80%82%E5%90%88%E5%93%AA%E4%BA%9B%E5%9C%BA%E6%99%AF"><span class="nav-number">1.2.</span> <span class="nav-text">索引不适合哪些场景</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E4%B8%80%E4%BA%9B%E6%BD%9C%E8%A7%84%E5%88%99"><span class="nav-number">1.3.</span> <span class="nav-text">索引的一些潜规则</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MySQL-%E9%81%87%E5%88%B0%E8%BF%87%E6%AD%BB%E9%94%81%E9%97%AE%E9%A2%98%E5%90%97%EF%BC%8C%E4%BD%A0%E6%98%AF%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E7%9A%84%EF%BC%9F"><span class="nav-number">2.</span> <span class="nav-text">MySQL 遇到过死锁问题吗，你是如何解决的？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%97%A5%E5%B8%B8%E5%B7%A5%E4%BD%9C%E4%B8%AD%E4%BD%A0%E6%98%AF%E6%80%8E%E4%B9%88%E4%BC%98%E5%8C%96SQL%E7%9A%84%EF%BC%9F"><span class="nav-number">3.</span> <span class="nav-text">日常工作中你是怎么优化SQL的？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%B4%E8%AF%B4%E5%88%86%E5%BA%93%E4%B8%8E%E5%88%86%E8%A1%A8%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="nav-number">4.</span> <span class="nav-text">说说分库与分表的设计</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8%E6%96%B9%E6%A1%88"><span class="nav-number">4.1.</span> <span class="nav-text">分库分表方案:</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8%E4%B8%AD%E9%97%B4%E4%BB%B6%EF%BC%9A"><span class="nav-number">4.2.</span> <span class="nav-text">常用的分库分表中间件：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8%E5%8F%AF%E8%83%BD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">4.3.</span> <span class="nav-text">分库分表可能遇到的问题</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#InnoDB%E4%B8%8EMyISAM%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">5.</span> <span class="nav-text">InnoDB与MyISAM的区别</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B4%A2%E5%BC%95%E7%9A%84%E5%8E%9F%E7%90%86%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8-B-%E6%A0%91%EF%BC%8C%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E7%94%A8%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%9F"><span class="nav-number">6.</span> <span class="nav-text">数据库索引的原理，为什么要用 B+树，为什么不用二叉树？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E6%98%AF%E4%B8%80%E8%88%AC%E4%BA%8C%E5%8F%89%E6%A0%91%EF%BC%9F"><span class="nav-number">6.1.</span> <span class="nav-text">为什么不是一般二叉树？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E6%98%AF%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91%E5%91%A2%EF%BC%9F"><span class="nav-number">6.2.</span> <span class="nav-text">为什么不是平衡二叉树呢？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%82%A3%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E6%98%AFB%E6%A0%91%E8%80%8C%E6%98%AFB-%E6%A0%91%E5%91%A2%EF%BC%9F"><span class="nav-number">6.3.</span> <span class="nav-text">那为什么不是B树而是B+树呢？</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%81%9A%E9%9B%86%E7%B4%A2%E5%BC%95%E4%B8%8E%E9%9D%9E%E8%81%9A%E9%9B%86%E7%B4%A2%E5%BC%95%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">7.</span> <span class="nav-text">聚集索引与非聚集索引的区别</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#limit-1000000-%E5%8A%A0%E8%BD%BD%E5%BE%88%E6%85%A2%E7%9A%84%E8%AF%9D%EF%BC%8C%E4%BD%A0%E6%98%AF%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%E7%9A%84%E5%91%A2%EF%BC%9F"><span class="nav-number">8.</span> <span class="nav-text">limit 1000000 加载很慢的话，你是怎么解决的呢？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%BB%E9%94%AE%E6%96%B9%E6%A1%88%E5%91%A2%EF%BC%9F"><span class="nav-number">9.</span> <span class="nav-text">如何选择合适的分布式主键方案呢？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9FMySQL%E7%9A%84%E9%BB%98%E8%AE%A4%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-number">10.</span> <span class="nav-text">事务的隔离级别有哪些？MySQL的默认隔离级别是什么？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%B9%BB%E8%AF%BB%EF%BC%8C%E8%84%8F%E8%AF%BB%EF%BC%8C%E4%B8%8D%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%E5%91%A2%EF%BC%9F"><span class="nav-number">11.</span> <span class="nav-text">什么是幻读，脏读，不可重复读呢？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9C%A8%E9%AB%98%E5%B9%B6%E5%8F%91%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E5%A6%82%E4%BD%95%E5%81%9A%E5%88%B0%E5%AE%89%E5%85%A8%E7%9A%84%E4%BF%AE%E6%94%B9%E5%90%8C%E4%B8%80%E8%A1%8C%E6%95%B0%E6%8D%AE%EF%BC%9F"><span class="nav-number">12.</span> <span class="nav-text">在高并发情况下，如何做到安全的修改同一行数据？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%82%B2%E8%A7%82%E9%94%81"><span class="nav-number">12.1.</span> <span class="nav-text">使用悲观锁</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E4%B9%90%E8%A7%82%E9%94%81"><span class="nav-number">12.2.</span> <span class="nav-text">使用乐观锁</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E4%B9%90%E8%A7%82%E9%94%81%E5%92%8C%E6%82%B2%E8%A7%82%E9%94%81%E3%80%82"><span class="nav-number">13.</span> <span class="nav-text">数据库的乐观锁和悲观锁。</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%82%B2%E8%A7%82%E9%94%81"><span class="nav-number">13.1.</span> <span class="nav-text">悲观锁</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B9%90%E8%A7%82%E9%94%81"><span class="nav-number">13.2.</span> <span class="nav-text">乐观锁</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL%E4%BC%98%E5%8C%96%E7%9A%84%E4%B8%80%E8%88%AC%E6%AD%A5%E9%AA%A4%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E6%80%8E%E4%B9%88%E7%9C%8B%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92%EF%BC%88explain%EF%BC%89%EF%BC%8C%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%85%B6%E4%B8%AD%E5%90%84%E4%B8%AA%E5%AD%97%E6%AE%B5%E7%9A%84%E5%90%AB%E4%B9%89%E3%80%82"><span class="nav-number">14.</span> <span class="nav-text">SQL优化的一般步骤是什么，怎么看执行计划（explain），如何理解其中各个字段的含义。</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#select-for-update%E6%9C%89%E4%BB%80%E4%B9%88%E5%90%AB%E4%B9%89%EF%BC%8C%E4%BC%9A%E9%94%81%E8%A1%A8%E8%BF%98%E6%98%AF%E9%94%81%E8%A1%8C%E8%BF%98%E6%98%AF%E5%85%B6%E4%BB%96%E3%80%82"><span class="nav-number">15.</span> <span class="nav-text">select for update有什么含义，会锁表还是锁行还是其他。</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#select-for-update-%E5%90%AB%E4%B9%89"><span class="nav-number">15.1.</span> <span class="nav-text">select for update 含义</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#select-for-update-%E5%8A%A0%E9%94%81%E9%AA%8C%E8%AF%81"><span class="nav-number">15.2.</span> <span class="nav-text">select for update 加锁验证</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MySQL%E4%BA%8B%E5%8A%A1%E5%BE%97%E5%9B%9B%E5%A4%A7%E7%89%B9%E6%80%A7%E4%BB%A5%E5%8F%8A%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="nav-number">16.</span> <span class="nav-text">MySQL事务得四大特性以及实现原理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1ACID%E7%89%B9%E6%80%A7%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%80%9D%E6%83%B3"><span class="nav-number">16.1.</span> <span class="nav-text">事务ACID特性的实现思想</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A6%82%E6%9E%9C%E6%9F%90%E4%B8%AA%E8%A1%A8%E6%9C%89%E8%BF%91%E5%8D%83%E4%B8%87%E6%95%B0%E6%8D%AE%EF%BC%8CCRUD%E6%AF%94%E8%BE%83%E6%85%A2%EF%BC%8C%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96%E3%80%82"><span class="nav-number">17.</span> <span class="nav-text">如果某个表有近千万数据，CRUD比较慢，如何优化。</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8"><span class="nav-number">17.1.</span> <span class="nav-text">分库分表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E4%BC%98%E5%8C%96"><span class="nav-number">17.2.</span> <span class="nav-text">索引优化</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%86%99sql%E8%83%BD%E5%A4%9F%E6%9C%89%E6%95%88%E7%9A%84%E4%BD%BF%E7%94%A8%E5%88%B0%E5%A4%8D%E5%90%88%E7%B4%A2%E5%BC%95%E3%80%82"><span class="nav-number">18.</span> <span class="nav-text">如何写sql能够有效的使用到复合索引。</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MVCC%E7%86%9F%E6%82%89%E5%90%97%EF%BC%8C%E5%AE%83%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%EF%BC%9F"><span class="nav-number">19.</span> <span class="nav-text">MVCC熟悉吗，它的底层原理？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#MVCC%E9%9C%80%E8%A6%81%E5%85%B3%E6%B3%A8%E8%BF%99%E5%87%A0%E4%B8%AA%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A"><span class="nav-number">19.1.</span> <span class="nav-text">MVCC需要关注这几个知识点：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MYSQL%E7%9A%84%E4%B8%BB%E4%BB%8E%E5%BB%B6%E8%BF%9F%EF%BC%8C%E4%BD%A0%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%EF%BC%9F"><span class="nav-number">20.</span> <span class="nav-text">MYSQL的主从延迟，你怎么解决？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BB%E4%BB%8E%E5%90%8C%E6%AD%A5%E5%BB%B6%E8%BF%9F%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="nav-number">20.1.</span> <span class="nav-text">主从同步延迟的原因</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BB%E4%BB%8E%E5%90%8C%E6%AD%A5%E5%BB%B6%E8%BF%9F%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95"><span class="nav-number">20.2.</span> <span class="nav-text">主从同步延迟的解决办法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0-%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E5%91%A2"><span class="nav-number">21.</span> <span class="nav-text">什么是数据库连接池?为什么需要数据库连接池呢?</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%92%8C%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="nav-number">21.1.</span> <span class="nav-text">应用程序和数据库建立连接的过程：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0%E5%A5%BD%E5%A4%84%EF%BC%9A"><span class="nav-number">21.2.</span> <span class="nav-text">数据库连接池好处：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E6%9D%A1SQL%E8%AF%AD%E5%8F%A5%E5%9C%A8MySQL%E4%B8%AD%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84%EF%BC%9F"><span class="nav-number">22.</span> <span class="nav-text">一条SQL语句在MySQL中如何执行的？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5"><span class="nav-number">22.1.</span> <span class="nav-text">查询语句</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#InnoDB%E5%BC%95%E6%93%8E%E4%B8%AD%E7%9A%84%E7%B4%A2%E5%BC%95%E7%AD%96%E7%95%A5%EF%BC%8C%E4%BA%86%E8%A7%A3%E8%BF%87%E5%90%97%EF%BC%9F"><span class="nav-number">23.</span> <span class="nav-text">InnoDB引擎中的索引策略，了解过吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%98%E5%82%A8%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E6%97%B6%EF%BC%8C%E5%A6%82%E4%BD%95%E8%80%83%E8%99%91%E6%97%B6%E5%8C%BA%E8%BD%AC%E6%8D%A2%E9%97%AE%E9%A2%98%EF%BC%9F"><span class="nav-number">24.</span> <span class="nav-text">数据库存储日期格式时，如何考虑时区转换问题？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E6%9D%A1sql%E6%89%A7%E8%A1%8C%E8%BF%87%E9%95%BF%E7%9A%84%E6%97%B6%E9%97%B4%EF%BC%8C%E4%BD%A0%E5%A6%82%E4%BD%95%E4%BC%98%E5%8C%96%EF%BC%8C%E4%BB%8E%E5%93%AA%E4%BA%9B%E6%96%B9%E9%9D%A2%E5%85%A5%E6%89%8B%EF%BC%9F"><span class="nav-number">25.</span> <span class="nav-text">一条sql执行过长的时间，你如何优化，从哪些方面入手？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MYSQL%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E7%9A%84%E6%96%B9%E6%B3%95%E5%91%BD%E4%BB%A4%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="nav-number">26.</span> <span class="nav-text">MYSQL数据库服务器性能分析的方法命令有哪些?</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Blob%E5%92%8Ctext%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="nav-number">27.</span> <span class="nav-text">Blob和text有什么区别？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Mysql%E4%B8%AD%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E9%94%81%EF%BC%8C%E5%88%97%E4%B8%BE%E4%B8%80%E4%B8%8B%EF%BC%9F"><span class="nav-number">28.</span> <span class="nav-text">Mysql中有哪几种锁，列举一下？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Hash%E7%B4%A2%E5%BC%95%E5%92%8CB-%E6%A0%91%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E4%BD%A0%E5%9C%A8%E8%AE%BE%E8%AE%A1%E7%B4%A2%E5%BC%95%E6%98%AF%E6%80%8E%E4%B9%88%E6%8A%89%E6%8B%A9%E7%9A%84%EF%BC%9F"><span class="nav-number">29.</span> <span class="nav-text">Hash索引和B+树区别是什么？你在设计索引是怎么抉择的？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#mysql-%E7%9A%84%E5%86%85%E8%BF%9E%E6%8E%A5%E3%80%81%E5%B7%A6%E8%BF%9E%E6%8E%A5%E3%80%81%E5%8F%B3%E8%BF%9E%E6%8E%A5%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="nav-number">30.</span> <span class="nav-text">mysql 的内连接、左连接、右连接有什么区别？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#mysql%E6%9C%89%E5%85%B3%E6%9D%83%E9%99%90%E7%9A%84%E8%A1%A8%E6%9C%89%E5%93%AA%E5%87%A0%E4%B8%AA%E5%91%A2%EF%BC%9F"><span class="nav-number">31.</span> <span class="nav-text">mysql有关权限的表有哪几个呢？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Mysql%E7%9A%84binlog%E6%9C%89%E5%87%A0%E7%A7%8D%E5%BD%95%E5%85%A5%E6%A0%BC%E5%BC%8F%EF%BC%9F%E5%88%86%E5%88%AB%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="nav-number">32.</span> <span class="nav-text">Mysql的binlog有几种录入格式？分别有什么区别？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#InnoDB%E5%BC%95%E6%93%8E%E7%9A%844%E5%A4%A7%E7%89%B9%E6%80%A7%EF%BC%8C%E4%BA%86%E8%A7%A3%E8%BF%87%E5%90%97"><span class="nav-number">33.</span> <span class="nav-text">InnoDB引擎的4大特性，了解过吗</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E6%9C%89%E5%93%AA%E4%BA%9B%E4%BC%98%E7%BC%BA%E7%82%B9%EF%BC%9F"><span class="nav-number">34.</span> <span class="nav-text">索引有哪些优缺点？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-number">34.1.</span> <span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E7%82%B9"><span class="nav-number">34.2.</span> <span class="nav-text">缺点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E7%B1%BB%E5%9E%8B%EF%BC%9F"><span class="nav-number">35.</span> <span class="nav-text">索引有哪几种类型？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%E6%9C%89%E4%BB%80%E4%B9%88%E5%8E%9F%E5%88%99%E5%91%A2%EF%BC%9F"><span class="nav-number">36.</span> <span class="nav-text">创建索引有什么原则呢？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%B4%A2%E5%BC%95%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="nav-number">37.</span> <span class="nav-text">创建索引的三种方式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A6%86%E7%9B%96%E7%B4%A2%E5%BC%95%E3%80%81%E5%9B%9E%E8%A1%A8%E7%AD%89%E8%BF%99%E4%BA%9B%EF%BC%8C%E4%BA%86%E8%A7%A3%E8%BF%87%E5%90%97%EF%BC%9F"><span class="nav-number">38.</span> <span class="nav-text">覆盖索引、回表等这些，了解过吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E8%A7%86%E5%9B%BE%EF%BC%9F%E4%BB%80%E4%B9%88%E6%98%AF%E8%A7%86%E5%9B%BE%EF%BC%9F"><span class="nav-number">39.</span> <span class="nav-text">为什么要使用视图？什么是视图？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8%E8%A7%86%E5%9B%BE%EF%BC%9F"><span class="nav-number">39.1.</span> <span class="nav-text">为什么要使用视图？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%A7%86%E5%9B%BE%EF%BC%9F"><span class="nav-number">39.2.</span> <span class="nav-text">什么是视图？</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE%E6%9C%89%E5%93%AA%E4%BA%9B%E7%89%B9%E7%82%B9%EF%BC%9F%E5%93%AA%E4%BA%9B%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9F"><span class="nav-number">40.</span> <span class="nav-text">视图有哪些特点？哪些使用场景？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE%E7%89%B9%E7%82%B9%EF%BC%9A"><span class="nav-number">40.1.</span> <span class="nav-text">视图特点：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE%E7%94%A8%E9%80%94"><span class="nav-number">40.2.</span> <span class="nav-text">视图用途</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E5%B8%B8%E8%A7%81%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">40.3.</span> <span class="nav-text">视图的常见使用场景</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#MySQL%E4%B8%AD%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B%E8%A7%A6%E5%8F%91%E5%99%A8%EF%BC%9F"><span class="nav-number">41.</span> <span class="nav-text">MySQL中都有哪些触发器？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL-%E7%BA%A6%E6%9D%9F%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E5%91%A2%EF%BC%9F"><span class="nav-number">42.</span> <span class="nav-text">SQL 约束有哪几种呢？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#UNION%E4%B8%8EUNION-ALL%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="nav-number">43.</span> <span class="nav-text">UNION与UNION ALL的区别？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%9F"><span class="nav-number">44.</span> <span class="nav-text">SQL的生命周期？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%A0%E6%98%AF%E5%90%A6%E5%81%9A%E8%BF%87%E4%B8%BB%E4%BB%8E%E4%B8%80%E8%87%B4%E6%80%A7%E6%A0%A1%E9%AA%8C%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%9C%89%EF%BC%8C%E6%80%8E%E4%B9%88%E5%81%9A%E7%9A%84%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%EF%BC%8C%E4%BD%A0%E6%89%93%E7%AE%97%E6%80%8E%E4%B9%88%E5%81%9A%EF%BC%9F"><span class="nav-number">45.</span> <span class="nav-text">你是否做过主从一致性校验，如果有，怎么做的，如果没有，你打算怎么做？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%A0%E4%BB%AC%E6%95%B0%E6%8D%AE%E5%BA%93%E6%98%AF%E5%90%A6%E6%94%AF%E6%8C%81emoji%E8%A1%A8%E6%83%85%E5%AD%98%E5%82%A8%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%B8%8D%E6%94%AF%E6%8C%81%EF%BC%8C%E5%A6%82%E4%BD%95%E6%93%8D%E4%BD%9C%EF%BC%9F"><span class="nav-number">46.</span> <span class="nav-text">你们数据库是否支持emoji表情存储，如果不支持，如何操作？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E4%B8%AA6%E4%BA%BF%E7%9A%84%E8%A1%A8a%EF%BC%8C%E4%B8%80%E4%B8%AA3%E4%BA%BF%E7%9A%84%E8%A1%A8b%EF%BC%8C%E9%80%9A%E8%BF%87%E5%A4%96%E9%97%B4tid%E5%85%B3%E8%81%94%EF%BC%8C%E4%BD%A0%E5%A6%82%E4%BD%95%E6%9C%80%E5%BF%AB%E7%9A%84%E6%9F%A5%E8%AF%A2%E5%87%BA%E6%BB%A1%E8%B6%B3%E6%9D%A1%E4%BB%B6%E7%9A%84%E7%AC%AC50000%E5%88%B0%E7%AC%AC50200%E4%B8%AD%E7%9A%84%E8%BF%99200%E6%9D%A1%E6%95%B0%E6%8D%AE%E8%AE%B0%E5%BD%95%E3%80%82"><span class="nav-number">47.</span> <span class="nav-text">一个6亿的表a，一个3亿的表b，通过外间tid关联，你如何最快的查询出满足条件的第50000到第50200中的这200条数据记录。</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%B6%E4%BB%96"><span class="nav-number">48.</span> <span class="nav-text">其他</span></a></li></ol>
    
    </div>
  </aside>

</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2017 - 2023 Keep It Simple And Stupid All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				访客数 : <span id="busuanzi_value_site_uv"></span> |  
				访问量 : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>




<script src="/js/scripts.js"></script>





  
<script src="/js/dialog.js"></script>









	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Keep It Simple And Stupid
          </div>
          <div class="panel-body">
            Copyright © 2023 CAO XIAN LIANG All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>