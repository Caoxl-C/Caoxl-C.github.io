<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>php7 新特性 | Keep It Simple And Stupid</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="PHPPHP7 新特性">
  
  
  
  
  <meta name="description" content="PHP7都发布好几年了,你确定不了解一下?">
<meta name="keywords" content="PHP,PHP7 新特性">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP7 新特性">
<meta property="og:url" content="http://blog.caoxl.com/2018/06/12/PHP-7/index.html">
<meta property="og:site_name" content="Keep It Simple And Stupid">
<meta property="og:description" content="PHP7都发布好几年了,你确定不了解一下?">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://www.caoxl.com/images/php7.jpg">
<meta property="og:updated_time" content="2019-08-22T03:01:20.261Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PHP7 新特性">
<meta name="twitter:description" content="PHP7都发布好几年了,你确定不了解一下?">
<meta name="twitter:image" content="http://www.caoxl.com/images/php7.jpg">
  
    <link rel="alternate" href="/atom.xml" title="Keep It Simple And Stupid" type="application/atom+xml">
  

  

  <link rel="icon" href="http://caoxl.com/imgs/we-min.jpg">
  <link rel="apple-touch-icon" href="/http://caoxl.com/imgs/we-min.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css">

  
    <link rel="stylesheet" href="/css/dialog.css">
  

  

  
    <link rel="stylesheet" href="/css/header-post.css">
  

  
  
  

</head>
</html>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 margin-top: 0px;"  
                href="#" data-toggle="modal" data-target="#myModal" >
                  <img width="124px" height="124px" alt="Hike News" src="http://caoxl.com/imgs/we-min.jpg">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">首页</a> </li>
                
                  <li> <a class="main-nav-link" href="/archives">归档</a> </li>
                
                  <li> <a class="main-nav-link" href="/categories">分类</a> </li>
                
                  <li> <a class="main-nav-link" href="/tags">标签</a> </li>
                
                  <li> <a class="main-nav-link" href="/about">关于</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(无标题)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-PHP-7" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      PHP7 新特性
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/06/12/PHP-7/" class="article-date">
	  <time datetime="2018-06-12T05:53:39.000Z" itemprop="datePublished">2018-06-12</time>
	</a>

      
    <a class="article-category-link" href="/categories/PHP/">PHP</a>

      
	<a class="article-views">
	<span id="busuanzi_container_page_pv">
		阅读量<span id="busuanzi_value_page_pv"></span>
	</span>
	</a>

    </div>

    <div class="article-entry" itemprop="articleBody">
      
        
        
          <blockquote>
<p>PHP7都发布好几年了,你确定不了解一下?</p>
</blockquote>
<a id="more"></a>
<h2 id="PHP7新特性语法"><a href="#PHP7新特性语法" class="headerlink" title="PHP7新特性语法"></a><code>PHP7</code>新特性语法</h2><h2 id="标量类型声明"><a href="#标量类型声明" class="headerlink" title="标量类型声明"></a>标量类型声明</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 强制模式</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sumOfInts</span><span class="params">(int ...$ints)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> array_sum($ints);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var_dump(sumOfInts(<span class="number">2</span>, <span class="string">'3'</span>, <span class="number">4.1</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// echo int(9)</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>强制模式（默认，既强制类型转换）下还是会对不符合预期的参数进行强制类型转换，<br>严格模式下则触发 <code>TypeError</code> 的致命错误。</p>
</blockquote>
<h2 id="返回值类型声明"><a href="#返回值类型声明" class="headerlink" title="返回值类型声明"></a>返回值类型声明</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arraysSum</span><span class="params">(array ...$arrays)</span>: <span class="title">array</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> array_map(<span class="function"><span class="keyword">function</span><span class="params">(array $array)</span>: <span class="title">int</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> array_sum($array);</span><br><span class="line">    &#125;, $arrays);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">print_r(arraysSum([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Array ( [0] =&gt; 6 [1] =&gt; 15 [2] =&gt; 24 )</span></span><br></pre></td></tr></table></figure>
<h2 id="NULL-合并运算符"><a href="#NULL-合并运算符" class="headerlink" title="NULL 合并运算符: ??"></a><code>NULL</code> 合并运算符: <code>??</code></h2><p>由于日常使用中存在大量同时使用<code>三元表达式</code>和 <code>isset()</code>的情况，<br>NULL 合并运算符使得变量存在且值不为NULL， 它就会返回自身的值，否则返回它的第二个操作数。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span> 如果 <span class="variable">$_GET</span>[<span class="string">'user'</span>] 不存在返回 <span class="string">'nobody'</span>，否则返回 <span class="variable">$_GET</span>[<span class="string">'user'</span>] 的值</span><br><span class="line"><span class="variable">$username</span> = <span class="variable">$_GET</span>[<span class="string">'user'</span>] ?? <span class="string">'nobody'</span>;</span><br><span class="line"></span><br><span class="line"><span class="regexp">//</span> 类似的三元运算符</span><br><span class="line"><span class="variable">$username</span> = isset(<span class="variable">$_GET</span>[<span class="string">'user'</span>]) ? <span class="variable">$_GET</span>[<span class="string">'user'</span>] : <span class="string">'nobody'</span>;</span><br></pre></td></tr></table></figure>
<h2 id="太空船操作符（组合比较符）"><a href="#太空船操作符（组合比较符）" class="headerlink" title="太空船操作符（组合比较符）"></a>太空船操作符（组合比较符）</h2><p>太空船操作符用于比较两个表达式。当<code>$a</code>大于、等于或小于<code>$b</code>时它分别返回<code>-1、0或1</code>。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 整型</span></span><br><span class="line"><span class="keyword">echo</span> <span class="number">1</span> &lt;=&gt; <span class="number">1</span>; <span class="comment">//0  等于返回0</span></span><br><span class="line"><span class="keyword">echo</span> <span class="number">1</span> &lt;=&gt; <span class="number">2</span>; <span class="comment">//-1 小于返回-1</span></span><br><span class="line"><span class="keyword">echo</span> <span class="number">2</span> &lt;=&gt; <span class="number">1</span>; <span class="comment">//1  大于返回1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 浮点型</span></span><br><span class="line"><span class="keyword">echo</span> <span class="number">1.5</span> &lt;=&gt; <span class="number">1.5</span>; <span class="comment">// 0</span></span><br><span class="line"><span class="keyword">echo</span> <span class="number">1.5</span> &lt;=&gt; <span class="number">2.5</span>; <span class="comment">// -1</span></span><br><span class="line"><span class="keyword">echo</span> <span class="number">2.5</span> &lt;=&gt; <span class="number">1.5</span>; <span class="comment">// 1</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 字符串</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"a"</span> &lt;=&gt; <span class="string">"a"</span>; <span class="comment">// 0</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"a"</span> &lt;=&gt; <span class="string">"b"</span>; <span class="comment">// -1</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"b"</span> &lt;=&gt; <span class="string">"a"</span>; <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h2 id="通过-define-定义常量数组"><a href="#通过-define-定义常量数组" class="headerlink" title="通过 define() 定义常量数组"></a>通过 <code>define()</code> 定义常量数组</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="string">'ANIMALS'</span>, [</span><br><span class="line">    <span class="string">'dog'</span>,</span><br><span class="line">    <span class="string">'cat'</span>,</span><br><span class="line">    <span class="string">'bird'</span></span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> ANIMALS[<span class="number">1</span>];</span><br><span class="line"><span class="comment">// echo cat</span></span><br></pre></td></tr></table></figure>
<h2 id="匿名类"><a href="#匿名类" class="headerlink" title="匿名类"></a>匿名类</h2><p>现在支持通过<code>new class</code> 来实例化一个匿名类，实例如下:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">log</span><span class="params">(string $msg)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> $logger;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getLogger</span><span class="params">()</span>: <span class="title">Logger</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;logger;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setLogger</span><span class="params">(Logger $logger)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;logger = $logger;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$app = <span class="keyword">new</span> Application;</span><br><span class="line"></span><br><span class="line">$app-&gt;setLogger(<span class="keyword">new</span> <span class="class"><span class="keyword">class</span> <span class="keyword">implements</span> <span class="title">Logger</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">log</span><span class="params">(string $msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> $msg;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">var_dump($app-&gt;getLogger());</span><br><span class="line"><span class="comment">// object(class@anonymous)#2 (0) &#123; &#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="Unicode-codepoint-转译语法"><a href="#Unicode-codepoint-转译语法" class="headerlink" title="Unicode codepoint 转译语法"></a><code>Unicode codepoint</code> 转译语法</h2><p>这接受一个以16进制形式的 <code>Unicode codepoint</code>，并打印出一个双引号或<code>heredoc</code>包围的 <code>UTF-8</code> 编码格式的字符串。<br>可以接受任何有效的 <code>codepoint</code>，并且开头的 0 是可以省略的。</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"\u&#123;aa&#125;"</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"\u&#123;0000aa&#125;"</span>;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"\u&#123;9999&#125;"</span>;</span><br><span class="line"><span class="comment">// a a 香</span></span><br></pre></td></tr></table></figure>
<h2 id="Closure-call"><a href="#Closure-call" class="headerlink" title="Closure::call()"></a><code>Closure::call()</code></h2><p><code>Closure::call()</code> 现在有着更好的性能，简短干练的暂时绑定一个方法到对象上闭包并调用它。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;<span class="keyword">private</span> $x = <span class="number">1</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Pre PHP 7</span></span><br><span class="line">$getXCB = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;<span class="keyword">return</span> <span class="keyword">$this</span>-&gt;x;&#125;;</span><br><span class="line">$getX   = $getXCB-&gt;bindTo(<span class="keyword">new</span> A, <span class="string">'A'</span>); <span class="comment">//中间闭合 ???</span></span><br><span class="line"><span class="keyword">echo</span> $getX();</span><br><span class="line"><span class="comment">// echo 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// New PHP 7</span></span><br><span class="line">$getX   = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;<span class="keyword">return</span> <span class="keyword">$this</span>-&gt;x;&#125;;</span><br><span class="line"><span class="keyword">echo</span> $getX-&gt;call(<span class="keyword">new</span> A);</span><br><span class="line"><span class="comment">// echo 1</span></span><br></pre></td></tr></table></figure>
<h2 id="为unserialize-提供过滤"><a href="#为unserialize-提供过滤" class="headerlink" title="为unserialize()提供过滤"></a>为<code>unserialize()</code>提供过滤</h2><p>这个特性旨在提供更安全的方式解包不可靠的数据。它通过白名单的方式来防止潜在的代码注入。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 转换对象为 __PHP_Incomplete_Class 对象</span></span><br><span class="line">$data = unserialize($foo, [<span class="string">"allowed_classes"</span> =&gt; <span class="keyword">false</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 转换对象为 __PHP_Incomplete_Class 对象，除了 MyClass 和 MyClass2</span></span><br><span class="line">$data = unserialize($foo, [<span class="string">"allowed_classes"</span> =&gt; [<span class="string">"MyClass"</span>, <span class="string">"MyClass2"</span>]]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认接受所有类</span></span><br><span class="line">$data = unserialize($foo, [<span class="string">"allowed_classes"</span> =&gt; <span class="keyword">true</span>]);</span><br></pre></td></tr></table></figure>
<h2 id="use-加强"><a href="#use-加强" class="headerlink" title="use 加强"></a><code>use</code> 加强</h2><p>从同一 <code>namespace</code> 导入的类、函数和常量现在可以通过单个 use 语句 一次性导入了。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//  PHP 7 之前版本用法</span><br><span class="line"><span class="keyword">use</span> <span class="keyword">some</span>\namespace\ClassA;</span><br><span class="line"><span class="keyword">use</span> <span class="keyword">some</span>\namespace\ClassB;</span><br><span class="line"><span class="keyword">use</span> <span class="keyword">some</span>\namespace\ClassC <span class="keyword">as</span> C;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="keyword">function</span> <span class="keyword">some</span>\namespace\fn_a;</span><br><span class="line"><span class="keyword">use</span> <span class="keyword">function</span> <span class="keyword">some</span>\namespace\fn_b;</span><br><span class="line"><span class="keyword">use</span> <span class="keyword">function</span> <span class="keyword">some</span>\namespace\fn_c;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> const <span class="keyword">some</span>\namespace\ConstA;</span><br><span class="line"><span class="keyword">use</span> const <span class="keyword">some</span>\namespace\ConstB;</span><br><span class="line"><span class="keyword">use</span> const <span class="keyword">some</span>\namespace\ConstC;</span><br><span class="line"></span><br><span class="line">// PHP 7+ 用法</span><br><span class="line"><span class="keyword">use</span> <span class="keyword">some</span>\namespace\&#123;ClassA, ClassB, ClassC <span class="keyword">as</span> C&#125;;</span><br><span class="line"><span class="keyword">use</span> <span class="keyword">function</span> <span class="keyword">some</span>\namespace\&#123;fn_a, fn_b, fn_c&#125;;</span><br><span class="line"><span class="keyword">use</span> const <span class="keyword">some</span>\namespace\&#123;ConstA, ConstB, ConstC&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="Generator-加强"><a href="#Generator-加强" class="headerlink" title="Generator 加强"></a><code>Generator</code> 加强</h2><p>增强了<code>Generator</code>的功能，这个可以实现很多先进的特性</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">gen</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">yield</span> from gen2();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">gen2</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (gen() <span class="keyword">as</span> $val)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> $val,PHP_EOL;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1 2 3 4</span></span><br></pre></td></tr></table></figure>
<h2 id="整除-intdiv"><a href="#整除-intdiv" class="headerlink" title="整除 intdiv"></a>整除 <code>intdiv</code></h2><p>新增了整除函数 <code>intdiv()</code>,使用实例：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var_dump(<span class="built_in">int</span>div(<span class="number">10</span>, <span class="number">3</span>)); <span class="comment">//int(3)</span></span><br></pre></td></tr></table></figure>
<h1 id="PHP7废弃特性"><a href="#PHP7废弃特性" class="headerlink" title="PHP7废弃特性"></a><code>PHP7</code>废弃特性</h1><h2 id="PHP4-风格的构造函数"><a href="#PHP4-风格的构造函数" class="headerlink" title="PHP4 风格的构造函数"></a><code>PHP4</code> 风格的构造函数</h2><p>在 PHP4 中类中的函数可以与类名同名，这一特性在 PHP7 中被废弃，同时会发出一个 E_DEPRECATED 错误。当方法名与类名相同，且类不在命名空间中，<br>同时PHP5的构造函数（__construct）不存在时，会产生一个 <code>E_DEPRECATED</code> 错误。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">A</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">print</span> (<span class="string">'Style Constructor'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Deprecated: Methods with the same name as their class will not be constructors in a future version of PHP;</span></span><br><span class="line"><span class="comment">// A has a deprecated constructor in...</span></span><br></pre></td></tr></table></figure>
<h2 id="以静态的方式调用非静态方法"><a href="#以静态的方式调用非静态方法" class="headerlink" title="以静态的方式调用非静态方法"></a>以静态的方式调用非静态方法</h2><p>以静态的方式调用非静态方法，不再支持：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">b</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">print</span>(<span class="string">'Non-static call'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">A::b();</span><br><span class="line"><span class="comment">// Deprecated: Non-static method A::b() should not be called statically in...</span></span><br><span class="line"><span class="comment">// Non-static call</span></span><br></pre></td></tr></table></figure>
<h2 id="password-hash-随机因子选项"><a href="#password-hash-随机因子选项" class="headerlink" title="password_hash() 随机因子选项"></a><code>password_hash()</code> 随机因子选项</h2><p>函数原 <code>salt</code> 量不再需要由开发者提供了。函数内部默认带有 <code>salt</code> 能力，无需开发者提供 <code>salt</code> 值。</p>
<h2 id="capture-session-meta-SSL-上下文选项"><a href="#capture-session-meta-SSL-上下文选项" class="headerlink" title="capture_session_meta SSL 上下文选项"></a><code>capture_session_meta</code> SSL 上下文选项</h2><p>废弃了 <code>&quot;capture_session_meta&quot;</code> SSL 上下文选项。<br>在流资源上活动的加密相关的元数据可以通过 <code>stream_get_meta_data()</code> 的返回值访问。</p>
<h1 id="PHP7移除的扩展"><a href="#PHP7移除的扩展" class="headerlink" title="PHP7移除的扩展"></a>PHP7移除的扩展</h1><ul>
<li><code>ereg</code></li>
<li><code>mssql</code></li>
<li><code>mysql</code></li>
<li><code>sybase_ct</code></li>
</ul>
<h1 id="PHP7-再深入一点"><a href="#PHP7-再深入一点" class="headerlink" title="PHP7: 再深入一点~~"></a><code>PHP7</code>: 再深入一点~~</h1><h2 id="PHP7引擎-What-will-be-in-PHP-7-PHPNG"><a href="#PHP7引擎-What-will-be-in-PHP-7-PHPNG" class="headerlink" title="PHP7引擎( What will be in PHP 7 / PHPNG )"></a>PHP7引擎( What will be in PHP 7 / PHPNG )</h2><ul>
<li><code>Performance Improvements with the addition of PHPNG engine</code>.（使用PHPNG引擎来提升性能）</li>
<li><code>PHPNG</code>不再使用zval的二级指针。大多数出现的zval*<em>变量和参数都将改变成zval</em>。相应的，使用在这些变量上的宏Z_PP()也需要变成Z_P()。</li>
<li><code>More</code> -&gt; <a href="https://wiki.php.net/phpng-upgrading" target="_blank" rel="noopener">https://wiki.php.net/phpng-upgrading</a></li>
<li><code>JIT - Just in Time compiler</code> 即时编译 (<a href="http://baike.baidu.com/link?url=sap20L79nr0CnNELWfluVvtP5v3-U3RBbDD-Q3RDKHhGZwQtSHJhAzmk5YPLyVfJPoFG7O-e2KutCXEZN2VuLK" target="_blank" rel="noopener">参考百度百科介绍</a>)</li>
<li><code>Abstract Syntax Tree for compilation</code>(抽象语法树编译)</li>
<li><code>Asynchronous refactoring of the I/O layer.</code>对I/O层的异步重构</li>
<li><code>Multi-threaded build in Web Server</code>多线程构建Web服务器</li>
<li><code>Expanded use of -&gt;, [], (), {}, and :: operators</code> 扩展使用 -&gt;, [], (), {}, 和 :: 符号</li>
<li><code>100% increase in performance</code>性能提升 100% (应该是QPS)</li>
<li><code>Cool Name</code>: PHPNG 酷名：PHPNG引擎</li>
</ul>
<h2 id="Zval的改变"><a href="#Zval的改变" class="headerlink" title="Zval的改变"></a><code>Zval</code>的改变</h2><blockquote>
<p>PHP的各种类型的变量，其实，真正存储的载体就是Zval，它特点是海纳百川，有容乃大。从本质上看，它是C语言实现的一个结构体（struct）。<br>对于写PHP的同学，可以将它粗略理解为是一个类似array数组的东西。</p>
</blockquote>
<p><strong><code>PHP5</code>的<code>Zval</code>，内存占据<code>24</code>个字节,<code>PHP7</code>的<code>Zval</code>，内存占据<code>16</code>个字节。</strong></p>
<blockquote>
<p>不需要引用的类型：NULL、Boolean、Long、Double<br>  需要引用的类型：String、Array、Object、Resource、Reference</p>
</blockquote>
<h2 id="内部类型zend-string"><a href="#内部类型zend-string" class="headerlink" title="内部类型zend_string"></a>内部类型<code>zend_string</code></h2><p><code>Zend_string</code>是实际存储字符串的结构体，实际的内容会存储在<code>val</code>（char，字符型）中，<br>而<code>val</code>是一个<code>char</code>数组，长度为1（方便成员变量占位）。</p>
<h2 id="PHP数组的变化（HashTable和Zend-Array）"><a href="#PHP数组的变化（HashTable和Zend-Array）" class="headerlink" title="PHP数组的变化（HashTable和Zend Array）"></a>PHP数组的变化（<code>HashTable</code>和<code>Zend Array</code>）</h2><blockquote>
<p>在编写PHP程序过程中，使用最频繁的类型莫过于数组，PHP5的数组采用HashTable实现。<br>如果用比较粗略的概括方式来说，它算是一个支持双向链表的HashTable，不仅支持通过数组的key来做hash映射访问元素，也能通过foreach以访问双向链表的方式遍历数组元素。</p>
<p>当我们通过key值访问一个元素内容的时候，有时需要3次的指针跳跃才能找对需要的内容。<br>而最重要的一点，就在于这些数组元素存储，都是分散在各个不同的内存区域的。<br>同理可得，在CPU读取的时候，因为它们就很可能不在同一级缓存中，会导致CPU不得不到下级缓存甚至内存区域查找，<br>也就是引起CPU缓存命中下降，进而增加更多的耗时。</p>
<p>新版本的数组结构，非常简洁，让人眼前一亮。<br>最大的特点是，整块的数组元素和hash映射表全部连接在一起，被分配在同一块内存内。<br>如果是遍历一个整型的简单类型数组，效率会非常快，因为，数组元素（Bucket）本身是连续分配在同一块内存里，<br>并且，数组元素的zval会把整型元素存储在内部，也不再有指针外链，全部数据都存储在当前内存区域内。<br>当然，最重要的是，它能够避免CPU Cache Miss（CPU缓存命中率下降）。</p>
</blockquote>
<h2 id="Zend-Array的变化："><a href="#Zend-Array的变化：" class="headerlink" title="Zend Array的变化："></a><code>Zend Array</code>的变化：</h2><ul>
<li><ol>
<li>数组的value默认为zval。</li>
</ol>
</li>
<li><ol start="2">
<li>HashTable的大小从72下降到56字节，减少22%。</li>
</ol>
</li>
<li><ol start="3">
<li>Buckets的大小从72下降到32字节，减少50%。</li>
</ol>
</li>
<li><ol start="4">
<li>数组元素的Buckets的内存空间是一同分配的。</li>
</ol>
</li>
<li><ol start="5">
<li>数组元素的key（Bucket.key）指向zend_string。</li>
</ol>
</li>
<li><ol start="6">
<li>数组元素的value被嵌入到Bucket中。</li>
</ol>
</li>
<li><ol start="7">
<li>降低CPU Cache Miss。</li>
</ol>
</li>
</ul>
<h2 id="函数调用机制（Function-Calling-Convention）"><a href="#函数调用机制（Function-Calling-Convention）" class="headerlink" title="函数调用机制（Function Calling Convention）"></a>函数调用机制（<code>Function Calling Convention</code>）</h2><p>PHP7改进了函数的调用机制，通过优化参数传递的环节，减少了一些指令，提高执行效率。</p>
<h2 id="通过宏定义和内联函数（inline），让编译器提前完成部分工作"><a href="#通过宏定义和内联函数（inline），让编译器提前完成部分工作" class="headerlink" title="通过宏定义和内联函数（inline），让编译器提前完成部分工作"></a>通过宏定义和内联函数（<code>inline</code>），让编译器提前完成部分工作</h2><p><code>PHP7</code>在这方面做了不少的优化，将不少需要在运行阶段要执行的工作，放到了编译阶段。<br>例如参数类型的判断（<code>Parameters Parsing</code>），<br>因为这里涉及的都是固定的字符常量，因此，可以放到到编译阶段来完成，进而提升后续的执行效率。</p>
<h2 id="AST（Abstract-Syntax-Tree，抽象语法树）"><a href="#AST（Abstract-Syntax-Tree，抽象语法树）" class="headerlink" title="AST（Abstract Syntax Tree，抽象语法树）"></a><code>AST</code>（<code>Abstract Syntax Tree</code>，抽象语法树）</h2><blockquote>
<p>AST在PHP编译过程作为一个中间件的角色，替换原来直接从解释器吐出opcode的方式，<br>  让解释器（parser）和编译器（compliler）解耦，可以减少一些Hack代码，同时，让实现更容易理解和可维护。</p>
</blockquote>
<p><img src="http://www.caoxl.com/images/php7.jpg" alt="PHP7"></p>
<h2 id="TLS（Native-Thread-local-storage，原生线程本地存储）"><a href="#TLS（Native-Thread-local-storage，原生线程本地存储）" class="headerlink" title="TLS（Native Thread local storage，原生线程本地存储）"></a><code>TLS</code>（<code>Native Thread local storage</code>，原生线程本地存储）</h2><blockquote>
<p>PHP在多线程模式下（例如，Web服务器Apache的woker和event模式，就是多线程），<br>需要解决“线程安全”（TS，Thread Safe）的问题，因为线程是共享进程的内存空间的，<br>所以每个线程本身需要通过某种方式，构建私有的空间来保存自己的私有数据，避免和其他线程相互污染。<br>而PHP5采用的方式，就是维护一个全局大数组，为每一个线程分配一份独立的存储空间，<br>线程通过各自拥有的key值来访问这个全局数据组。</p>
<p>而这个独有的key值在PHP5中需要传递给每一个需要用到全局变量的函数，<br>PHP7认为这种传递的方式并不友好，并且存在一些问题。<br>因而，尝试采用一个全局的线程特定变量来保存这个key值。</p>
</blockquote>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a href="https://secure.php.net/manual/zh/migration70.new-features.php" target="_blank" rel="noopener">新特性</a></li>
<li><a href="http://www.runoob.com/php/php7-new-features.html" target="_blank" rel="noopener">PHP 7 新特性</a></li>
<li><a href="https://www.kancloud.cn/digest/php-src/136259" target="_blank" rel="noopener">PHP7新特性整理介绍篇</a></li>
</ul>

        
      
    </div>

    <footer class="article-footer">
      
      
      <div>
        <ul class="post-copyright">
          <li class="post-copyright-author">
          <strong>本文作者:  </strong>CAO XIAN LIANG</a>
          </li>
          <li class="post-copyright-link">
          <strong>本文链接:  </strong>
          <a href="/2018/06/12/PHP-7/" target="_blank" title="PHP7 新特性">http://blog.caoxl.com/2018/06/12/PHP-7/</a>
          </li>
          <li class="post-copyright-license">
            <strong>版权声明:   </strong>
            本博客所有文章除特别声明外，均采用 <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
            许可协议。转载请注明出处
          </li>
         
        </ul>
<div>

      
      
      
      
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/">PHP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP7-新特性/">PHP7 新特性</a></li></ul>

      

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/06/13/High-Conc-Large-Flow/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          高并发和大流量解决方案
        
      </div>
    </a>
  
  
    <a href="/2018/06/12/Linux-install-cmd/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">Linux 安装命令集合</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#PHP7新特性语法"><span class="nav-number">1.</span> <span class="nav-text">PHP7新特性语法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#标量类型声明"><span class="nav-number">2.</span> <span class="nav-text">标量类型声明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#返回值类型声明"><span class="nav-number">3.</span> <span class="nav-text">返回值类型声明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#NULL-合并运算符"><span class="nav-number">4.</span> <span class="nav-text">NULL 合并运算符: ??</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#太空船操作符（组合比较符）"><span class="nav-number">5.</span> <span class="nav-text">太空船操作符（组合比较符）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#通过-define-定义常量数组"><span class="nav-number">6.</span> <span class="nav-text">通过 define() 定义常量数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#匿名类"><span class="nav-number">7.</span> <span class="nav-text">匿名类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Unicode-codepoint-转译语法"><span class="nav-number">8.</span> <span class="nav-text">Unicode codepoint 转译语法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Closure-call"><span class="nav-number">9.</span> <span class="nav-text">Closure::call()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#为unserialize-提供过滤"><span class="nav-number">10.</span> <span class="nav-text">为unserialize()提供过滤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#use-加强"><span class="nav-number">11.</span> <span class="nav-text">use 加强</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Generator-加强"><span class="nav-number">12.</span> <span class="nav-text">Generator 加强</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#整除-intdiv"><span class="nav-number">13.</span> <span class="nav-text">整除 intdiv</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PHP7废弃特性"><span class="nav-number"></span> <span class="nav-text">PHP7废弃特性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PHP4-风格的构造函数"><span class="nav-number">1.</span> <span class="nav-text">PHP4 风格的构造函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#以静态的方式调用非静态方法"><span class="nav-number">2.</span> <span class="nav-text">以静态的方式调用非静态方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#password-hash-随机因子选项"><span class="nav-number">3.</span> <span class="nav-text">password_hash() 随机因子选项</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#capture-session-meta-SSL-上下文选项"><span class="nav-number">4.</span> <span class="nav-text">capture_session_meta SSL 上下文选项</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PHP7移除的扩展"><span class="nav-number"></span> <span class="nav-text">PHP7移除的扩展</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PHP7-再深入一点"><span class="nav-number"></span> <span class="nav-text">PHP7: 再深入一点~~</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PHP7引擎-What-will-be-in-PHP-7-PHPNG"><span class="nav-number">1.</span> <span class="nav-text">PHP7引擎( What will be in PHP 7 / PHPNG )</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Zval的改变"><span class="nav-number">2.</span> <span class="nav-text">Zval的改变</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内部类型zend-string"><span class="nav-number">3.</span> <span class="nav-text">内部类型zend_string</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PHP数组的变化（HashTable和Zend-Array）"><span class="nav-number">4.</span> <span class="nav-text">PHP数组的变化（HashTable和Zend Array）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Zend-Array的变化："><span class="nav-number">5.</span> <span class="nav-text">Zend Array的变化：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#函数调用机制（Function-Calling-Convention）"><span class="nav-number">6.</span> <span class="nav-text">函数调用机制（Function Calling Convention）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#通过宏定义和内联函数（inline），让编译器提前完成部分工作"><span class="nav-number">7.</span> <span class="nav-text">通过宏定义和内联函数（inline），让编译器提前完成部分工作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AST（Abstract-Syntax-Tree，抽象语法树）"><span class="nav-number">8.</span> <span class="nav-text">AST（Abstract Syntax Tree，抽象语法树）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TLS（Native-Thread-local-storage，原生线程本地存储）"><span class="nav-number">9.</span> <span class="nav-text">TLS（Native Thread local storage，原生线程本地存储）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考"><span class="nav-number"></span> <span class="nav-text">参考</span></a>
    
    </div>
  </aside>

</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2017 - 2020 Keep It Simple And Stupid All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				访客数 : <span id="busuanzi_value_site_uv"></span> |  
				访问量 : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



<script src="/js/scripts.js"></script>




  <script src="/js/dialog.js"></script>








	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Keep It Simple And Stupid
          </div>
          <div class="panel-body">
            Copyright © 2020 CAO XIAN LIANG All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>