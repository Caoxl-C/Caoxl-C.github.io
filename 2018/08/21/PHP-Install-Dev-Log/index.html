<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>php 「安装日志」 | Keep It Simple And Stupid</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="PHPLinuxInstall">
  
  
  
  
  <meta name="description" content="总结一些和PHP有关的 「 安装 」">
<meta name="keywords" content="PHP,Linux,Install">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP 「安装日志」">
<meta property="og:url" content="http://blog.caoxl.com/2018/08/21/PHP-Install-Dev-Log/index.html">
<meta property="og:site_name" content="Keep It Simple And Stupid">
<meta property="og:description" content="总结一些和PHP有关的 「 安装 」">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-08-28T03:28:12.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PHP 「安装日志」">
<meta name="twitter:description" content="总结一些和PHP有关的 「 安装 」">
  
    <link rel="alternate" href="/atom.xml" title="Keep It Simple And Stupid" type="application/atom+xml">
  

  

  <link rel="icon" href="http://caoxl.com/imgs/we-min.jpg">
  <link rel="apple-touch-icon" href="/http://caoxl.com/imgs/we-min.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css">

  
    <link rel="stylesheet" href="/css/dialog.css">
  

  

  
    <link rel="stylesheet" href="/css/header-post.css">
  

  
  
  

</head>
</html>


  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 margin-top: 0px;"  
                href="#" data-toggle="modal" data-target="#myModal" >
                  <img width="124px" height="124px" alt="Hike News" src="http://caoxl.com/imgs/we-min.jpg">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">首页</a> </li>
                
                  <li> <a class="main-nav-link" href="/archives">归档</a> </li>
                
                  <li> <a class="main-nav-link" href="/categories">分类</a> </li>
                
                  <li> <a class="main-nav-link" href="/tags">标签</a> </li>
                
                  <li> <a class="main-nav-link" href="/about">关于</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="请输入关键词..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(无标题)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-PHP-Install-Dev-Log" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      PHP 「安装日志」
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/08/21/PHP-Install-Dev-Log/" class="article-date">
	  <time datetime="2018-08-21T07:29:39.000Z" itemprop="datePublished">2018-08-21</time>
	</a>

      
    <a class="article-category-link" href="/categories/PHP/">PHP</a>

      
	<a class="article-views">
	<span id="busuanzi_container_page_pv">
		阅读量<span id="busuanzi_value_page_pv"></span>
	</span>
	</a>

    </div>

    <div class="article-entry" itemprop="articleBody">
      
        
        
          <blockquote>
<p>总结一些和PHP有关的 「 安装 」</p>
</blockquote>
<a id="more"></a>
<h1 id="PECL"><a href="#PECL" class="headerlink" title="PECL"></a>PECL</h1><blockquote>
<p>PECL 的全称是 The PHP Extension Community Library ，是一个开放的并通过 PEAR(PHP Extension and Application Repository，PHP 扩展和应用仓库)打包格式来打包安装的 PHP扩展库仓库。通过 PEAR 的 Package Manager 的安装管理方式，可以对 PECL 模块进行下载和安装。</p>
</blockquote>
<p><u><a href="https://pecl.php.net/" target="_blank" rel="noopener">PHP Extension Community Library</a></u>。提供了一个 PHP 所有已知扩展的下载和托管目录，比如 <u><a href="https://pecl.php.net/package/fileinfo" target="_blank" rel="noopener">fileinfo</a></u>, <u><a href="https://pecl.php.net/package/APC" target="_blank" rel="noopener">APC</a></u>, <u><a href="https://pecl.php.net/package/Xdebug" target="_blank" rel="noopener">Xdebug</a></u> 等，采用 C 语言编写。</p>
<h1 id="PEAR"><a href="#PEAR" class="headerlink" title="PEAR"></a>PEAR</h1><p><u><a href="https://pear.php.net/" target="_blank" rel="noopener">PHP Extension and Application Repository</a></u>。简单说有 <strong>3</strong> 个作用：</p>
<ul>
<li>打包和安装 C 语言形式的 PECL 扩展</li>
<li>托管 PHP 代码形式的应用仓库、提供可复用的组件和依赖管理（虽然做的不好）</li>
<li>作为 PHP 编码规范（曾经的）</li>
</ul>
<h2 id="PEAR-vs-PECL"><a href="#PEAR-vs-PECL" class="headerlink" title="PEAR vs PECL"></a>PEAR vs PECL</h2><p><a href="https://secure.php.net/manual/zh/install.pecl.intro.php" target="_blank" rel="noopener">官方的</a> 解释是：PECL 是通过 PEAR 打包系统来的 PHP 扩展库仓库。</p>
<blockquote>
<p>PECL代表PHP扩展社区库，它具有用C编写的扩展，可以加载到PHP中以提供其他功能。您需要具有管理员权限，C编译器和相关工具链才能安装这些扩展。</p>
<p>PEAR是PHP扩展和应用程序库，它具有用PHP编写的库和代码。您只需下载，安装并包含在您的代码中即可。</p>
</blockquote>
<h2 id="安装-PEAR／PECL"><a href="#安装-PEAR／PECL" class="headerlink" title="安装 PEAR／PECL"></a>安装 PEAR／PECL</h2><p>以在 <code>macOS</code> 下为例简述流程：</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># Download pear</span></span><br><span class="line">curl -O http:<span class="comment">//pear.php.net/go-pear.phar</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># Install pear/pecl</span></span><br><span class="line">sudo php -d zend_detect_unicode=<span class="number">0</span> go-pear.phar</span><br></pre></td></tr></table></figure>
<p>然后选择安装的路径，一般要手动设置安装路径（1）为 <code>/usr/local/pear</code>，和二进制文件路径（4）为 <code>/usr/local/bin</code>。设置好后输入all 或者按回车即可开始安装。</p>
<p>如果没出意外，就可以检测是否安装成功：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pear <span class="built_in">version</span></span><br><span class="line">pecl <span class="built_in">version</span></span><br></pre></td></tr></table></figure>
<p>最后，如果要使用任何由 pear 下载的扩展或者应用，必须在 <code>php.ini</code> 中更新 <code>include_path</code> 路径：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim <span class="regexp">/etc/</span>php.ini</span><br></pre></td></tr></table></figure>
<p>找到 <code>Paths and Directories</code> 在下面添加：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">include_path</span>=<span class="string">"/usr/local/pear/share/pear"</span></span><br></pre></td></tr></table></figure>
<p>这个 <code>include_path</code> 的值，是安装成功后提示你的路径。</p>
<p>然后重启：<code>sudo apachectl restart</code>。</p>
<h2 id="通过-PECL-和-PEAR-安装-PHP-扩展"><a href="#通过-PECL-和-PEAR-安装-PHP-扩展" class="headerlink" title="通过 PECL 和 PEAR 安装 PHP 扩展"></a>通过 PECL 和 PEAR 安装 PHP 扩展</h2><p>最后就可以使用 pear 和 pecl 安装 PHP 扩展了。比如安装 <code>vld</code> 扩展：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pecl install vld<span class="number">-0.14</span><span class="number">.0</span>    # https:<span class="comment">//pecl.php.net/package/vld</span></span><br></pre></td></tr></table></figure>
<p>注意：这里的扩展名必须是在 <code>pecl.php.net</code> 上面能搜到的准确扩展名称及其版本号。</p>
<p>如果没报错，则在 <code>php.ini</code> 中引入刚刚编译成功的 <code>vld.so</code>，重启 apache 即可。</p>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>通过 pecl 或者 pear 安装 PHP 扩展的时候，<strong>必须确保 perl 或者 pear 和 PHP 的版本一致</strong>，否则安装不会成功。</p>
<h1 id="Composer"><a href="#Composer" class="headerlink" title="Composer"></a>Composer</h1><p>Composer 是现代 PHP（&gt;5.3） 中一个优秀的包管理器，通常和 <u><a href="https://packagist.org/" target="_blank" rel="noopener">Packagist</a></u> 一起工作，可以很方便地管理大量的 PHP 代码依赖。</p>
<h2 id="Composer-与-Packagist"><a href="#Composer-与-Packagist" class="headerlink" title="Composer 与 Packagist"></a>Composer 与 Packagist</h2><p>Composer 中管理的依赖都写在 <code>composer.json</code> 中，而最终安装的时候，都是去 <code>Packagist</code> 下载。</p>
<p>Packagist 是一个官方的 Composer 兼容包仓库，但是并不是唯一的，比如国内还有一个 <u><a href="https://pkg.phpcomposer.com/" target="_blank" rel="noopener">Packagist 全量镜像</a></u>。Composer 获取软件包的地址，是可以修改的，比如替换默认源就可以：</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 全局</span></span><br><span class="line">composer config -g repo.packagist composer https:<span class="comment">//packagist.phpcomposer.com</span></span><br><span class="line"><span class="meta"># 单个项目</span></span><br><span class="line">composer config repo.packagist composer https:<span class="comment">//packagist.phpcomposer.com</span></span><br></pre></td></tr></table></figure>
<h2 id="Composer-vs-PEAR"><a href="#Composer-vs-PEAR" class="headerlink" title="Composer vs PEAR"></a>Composer vs PEAR</h2><p>PHP 有很多可供使用的库、框架和组件。通常你的项目都会使用到其中的若干项，这些就是项目的依赖。</p>
<p>对于现代 PHP 来说，主要由 Composer 管理 PHP 依赖，而在以前，则是 PEAR 来管理的。两者的主要区别有：</p>
<ul>
<li>Composer 更活跃和成熟，PEAR 则将被弃用。</li>
<li>Composer 更灵活，可以为单独某个项目管理依赖，也可全局安装，而 PEAR 只能全局安装。（好处是当多个项目共同使用同一个扩展包的同一个版本, 坏处是如果你需要使用不同版本的话，就会产生冲突）</li>
<li>PEAR 需要扩展包有专属的结构，开发者在开发扩展包的时候要提前考虑为 PEAR 定制，否则后面将无法使用 PEAR，而 Composer 的使用规范对所有组件都是统一的。</li>
<li>通过 Composer + Packgist，能安装到的软包数量远远多于 PEAR。</li>
<li>在依赖管理方面，Composer 更专业。</li>
<li>PEAR 能安装 PECL 扩展，而 Composer 不能。这算是当前 PEAR 唯一比得过 Composer 的地方了，不过 Composer 目前又有一个不算特别成熟的替代方案：<br><u><a href="https://github.com/FriendsOfPHP/pickle" target="_blank" rel="noopener">GitHub: FriendsOfPHP/pickle。</a></u></li>
</ul>
<h1 id="软件包管理器"><a href="#软件包管理器" class="headerlink" title="软件包管理器"></a>软件包管理器</h1><h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><p>使用软件包管理器比较方便，不仅可以安装 PHP，也可以安装 PHP 扩展。缺点就是版本默认较低。</p>
<h3 id="yum-dnf"><a href="#yum-dnf" class="headerlink" title="yum/dnf"></a>yum/dnf</h3><p>CentOS 使用 yum 安装的 PHP 版本很低，需要先开启 <code>EPCL</code> 和 <code>REMI</code> 源。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget http:<span class="regexp">//</span>dl.fedoraproject.org<span class="regexp">/pub/</span>epel<span class="regexp">/7/</span>x86_64<span class="regexp">/e/</span>epel-release-<span class="number">7</span>-<span class="number">5</span>.noarch.rpm</span><br><span class="line">wget http:<span class="regexp">//</span>rpms.famillecollet.com<span class="regexp">/enterprise/</span>remi-release-<span class="number">7</span>.rpm</span><br><span class="line">rpm -Uvh remi-release-<span class="number">7</span>*.rpm epel-release-<span class="number">7</span>*.rpm</span><br><span class="line"></span><br><span class="line">vim <span class="regexp">/etc/yum</span>.repos.d<span class="regexp">/remi.repo</span></span><br></pre></td></tr></table></figure>
<p>添加如下内容后保存退出：</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[remi]</span></span><br><span class="line"><span class="attr">name</span>=Les RPM de remi pour Enterprise Linux <span class="number">6</span> - <span class="variable">$basearch</span></span><br><span class="line"><span class="comment">#baseurl=http://rpms.famillecollet.com/enterprise/6/remi/$basearch/</span></span><br><span class="line"><span class="attr">mirrorlist</span>=http://rpms.famillecollet.com/enterprise/<span class="number">6</span>/remi/mirror</span><br><span class="line"><span class="attr">enabled</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">gpgcheck</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">gpgkey</span>=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-remi</span><br><span class="line"></span><br><span class="line"><span class="section">[remi-php56]</span></span><br><span class="line"><span class="attr">name</span>=Les RPM de remi de PHP <span class="number">5.6</span> pour Enterprise Linux <span class="number">6</span> - <span class="variable">$basearch</span></span><br><span class="line"><span class="comment">#baseurl=http://rpms.famillecollet.com/enterprise/6/php56/$basearch/</span></span><br><span class="line"><span class="attr">mirrorlist</span>=http://rpms.famillecollet.com/enterprise/<span class="number">6</span>/php56/mirror</span><br><span class="line"><span class="comment"># WARNING: If you enable this repository, you must also enable "remi"</span></span><br><span class="line"><span class="attr">enabled</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">gpgcheck</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">gpgkey</span>=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-remi</span><br></pre></td></tr></table></figure>
<p>然后就可以搜索指定的版本并安装了：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">yum</span> search php | grep<span class="regexp"> ^php</span></span><br><span class="line"><span class="regexp">yum</span> install php php-gd php-mysql php-mcrypt</span><br></pre></td></tr></table></figure>
<h3 id="apt-get"><a href="#apt-get" class="headerlink" title="apt-get"></a>apt-get</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">echo</span> <span class="string">"deb http://packages.dotdeb.org wheezy-php56 all"</span> &gt;&gt; /etc/apt/sources.<span class="keyword">list</span>.d/dotdeb.<span class="keyword">list</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"deb-src http://packages.dotdeb.org wheezy-php56 all"</span> &gt;&gt; /etc/apt/sources.<span class="keyword">list</span>.d/dotdeb.<span class="keyword">list</span></span><br><span class="line">wget http://www.dotdeb.org/dotdeb.gpg -O- | apt-key <span class="built_in">add</span> - </span><br><span class="line">apt-<span class="built_in">get</span> <span class="keyword">update</span></span><br><span class="line">apt-<span class="built_in">get</span> install php5-cli php5-fpm    # <span class="built_in">or</span> whatever package you might need</span><br></pre></td></tr></table></figure>
<h2 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h2><p>Mac 默认是没有包管理器的，但是有解决方案，比如<u><a href="https://brew.sh/" target="_blank" rel="noopener">Homebrew</a></u> 。</p>
<h3 id="Homebrew"><a href="#Homebrew" class="headerlink" title="Homebrew"></a>Homebrew</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">brew </span>search php</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装需要的版本</span></span><br><span class="line"><span class="keyword">brew </span><span class="keyword">install </span>php56</span><br><span class="line"><span class="keyword">brew </span><span class="keyword">install </span>php72</span><br></pre></td></tr></table></figure>
<h3 id="Macports"><a href="#Macports" class="headerlink" title="Macports"></a>Macports</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo<span class="built_in"> port </span>install php56</span><br><span class="line">sudo<span class="built_in"> port </span>install php72</span><br><span class="line"></span><br><span class="line"><span class="comment"># Switch PHP Version</span></span><br><span class="line">sudo<span class="built_in"> port </span>select --<span class="builtin-name">set</span> php php72</span><br></pre></td></tr></table></figure>
<h1 id="源码安装"><a href="#源码安装" class="headerlink" title="源码安装"></a>源码安装</h1><p>源码安装可以定制自己的环境，也能在一定程度上提高性能，只是流程稍微繁琐（其实还好）。</p>
<h2 id="源码安装-PHP"><a href="#源码安装-PHP" class="headerlink" title="源码安装 PHP"></a>源码安装 PHP</h2><p>官方有很全的<u><a href="https://secure.php.net/manual/en/install.php" target="_blank" rel="noopener">指导手册</a></u>，下面只以在 Linux 下安装 php（work with nginx） 场景示例过程：</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 1. Download（http:<span class="comment">//www.php.net/downloads.php）</span></span></span><br><span class="line">wget http:<span class="comment">//cn2.php.net/distributions/php-5.6.29.tar.bz2</span></span><br><span class="line">bzip2 -d php<span class="number">-5.6</span><span class="number">.29</span>.tar.bz2</span><br><span class="line"></span><br><span class="line"><span class="meta"># 2. Compile and install</span></span><br><span class="line">cd php<span class="number">-5.6</span><span class="number">.29</span></span><br><span class="line">./configure --help</span><br><span class="line">./configure --enable-fpm --with-mysql</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br><span class="line"></span><br><span class="line"><span class="meta"># 3. Configuration files ready</span></span><br><span class="line">cp php.ini-development <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/php/</span>php.ini</span><br><span class="line">cp <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/etc/</span>php-fpm.conf.default <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/etc/</span>php-fpm.conf</span><br><span class="line">cp sapi<span class="meta-keyword">/fpm/</span>php-fpm <span class="meta-keyword">/usr/</span>local/bin</span><br><span class="line"></span><br><span class="line"><span class="meta"># 4. Necessary configs</span></span><br><span class="line">vim <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/php/</span>php.ini</span><br><span class="line">	cgi.fix_pathinfo=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">vim <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/etc/</span>php-fpm.conf</span><br><span class="line">    user = www-data</span><br><span class="line">    group = www-data</span><br><span class="line">    </span><br><span class="line"><span class="meta"># 4. start php-fpm</span></span><br><span class="line"><span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/bin/</span>php-fpm</span><br></pre></td></tr></table></figure>
<h2 id="源码安装-PHP-扩展"><a href="#源码安装-PHP-扩展" class="headerlink" title="源码安装 PHP 扩展"></a>源码安装 PHP 扩展</h2><p>安装 PHP 扩展的前提：</p>
<ul>
<li>已安装 PHP 本身</li>
<li>必要的基础依赖已经安装，比如 gcc／make</li>
<li>知道要安装的扩展的安装依赖（参考 PECL 上的说明）</li>
</ul>
<h3 id="源码安装官方扩展"><a href="#源码安装官方扩展" class="headerlink" title="源码安装官方扩展"></a>源码安装官方扩展</h3><p>Linux 下源码安装 PHP 官方（内置）扩展基本流程如下：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. Basic requirements</span></span><br><span class="line">yum install php-devel php-mysqlnd gcc libtool</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. Extensions dependency</span></span><br><span class="line"><span class="comment"># differ from ext to ext ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. Have source code of current PHP version</span></span><br><span class="line">cd /path/<span class="keyword">to</span>/php-x.y.z</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. Assume we install fileinfo extension</span></span><br><span class="line">cd fileinfo</span><br><span class="line">phpize</span><br><span class="line">./configure --enable-fileinfo</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. Enable new in php.ini</span></span><br><span class="line">cd `php-config --extension-dir`    # <span class="keyword">to</span> checkout <span class="keyword">if</span> has fileinfo.so</span><br><span class="line">vim /path/<span class="keyword">to</span>/php.ini</span><br><span class="line">	; Dynamic Extensions</span><br><span class="line">	extension = fileinfo.so</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6. Restart php-fpm</span></span><br><span class="line">service php5-fpm restart</span><br></pre></td></tr></table></figure>
<h3 id="源码安装第三方扩展"><a href="#源码安装第三方扩展" class="headerlink" title="源码安装第三方扩展"></a>源码安装第三方扩展</h3><p>其实和安装官方扩展差不多，不同之处只是第三方扩展的源码包没有在 PHP 官方源码包中，需要手动到 <code>github</code> 或者 <code>pecl.php.net</code> 等下载，后续的配置、编译和安装完全一样。</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">clone</span> <span class="title">https</span>://github.com/mongodb/mongo-php-driver</span><br><span class="line">cd mongo-php-driver</span><br><span class="line"></span><br><span class="line"><span class="comment"># Same with above</span></span><br></pre></td></tr></table></figure>
<h3 id="部分操作解释"><a href="#部分操作解释" class="headerlink" title="部分操作解释"></a>部分操作解释</h3><ul>
<li><p><code>phpize</code>准备扩展程序的文件夹以进行补充。它允许您通过创建<code>configure</code>文件来执行后续命令，并且基本上使扩展的文件夹“认为”它是PHP本身。<code>phpize</code>事实上，后面的过程与从源代码安装PHP时所做的相同 - 仅在这种情况下，只需编译PHP片段并准备好与已编译和安装的PHP一起使用。</p>
</li>
<li><p><code>./configure --enable-XXX</code>配置编译环境。它准备了编译器制作<code>XXX.so</code>我们将要使用的文件所需的一切。<code>enable-XXX</code>即使我们在<code>XXX</code>文件夹中，该标志也是必要的，因为该文件夹实际上认为它是 PHP，我们需要帮助它实现这种错觉。这个命令告诉它：“好的，你是PHP的源代码。现在使用intl扩展编译和安装。“，实际上，它是唯一可以从此文件夹安装的部分。</p>
</li>
<li><p><code>make</code>将源<code>XXX.so</code>文件编译成子文件夹，将文件放入您当前所在的<code>modules</code>文件夹中。</p>
</li>
<li><p><code>sudo make install</code> 将此文件移动到当前PHP安装的<code>extensions</code>文件夹中。</p>
</li>
</ul>
<blockquote>
<ul>
<li><code>phpize</code> prepares the extension’s folder for compliation. It allows you to do the subsequent commands by creating a configure file, and basically making the extension’s folder “think” it’s PHP itself. The procedure after phpize is, in fact, identical to what you would do when installing PHP from source – only in this case, just a fragment of PHP is compiled and prepared for use with the already compiled and installed PHP.</li>
<li><code>./configure --enable-XXX</code> configures the environment for compilation. It prepares everything the compiler will need to craft the XXX.so file which we’ll be using. The enable-XXX flag is necessary even though we’re in the XXXfolder because the folder, effectively, thinks it is PHP, and we need to help it live that illusion. This command tells it: “Ok, you’re PHP’s source code. Now compile and install with the intl extension.”, when in fact, it’s the only part that can be installed from this folder.</li>
<li><code>make</code> will compile the sources into XXX.so, placing the file into the very folder you’re currently in, under the modulessubfolder.</li>
<li><code>sudo make install</code> will move this file into the current PHP installation’s extensions folder.</li>
</ul>
</blockquote>
<h1 id="PHP-版本切换"><a href="#PHP-版本切换" class="headerlink" title="PHP 版本切换"></a>PHP 版本切换</h1><h2 id="phpbrew"><a href="#phpbrew" class="headerlink" title="phpbrew"></a>phpbrew</h2><p>Github: <u><a href="https://github.com/phpbrew/phpbrew" target="_blank" rel="noopener">phpbrew</a></u></p>
<h2 id="phpenv"><a href="#phpenv" class="headerlink" title="phpenv"></a>phpenv</h2><p>GitHub: <u><a href="https://github.com/CHH/phpenv" target="_blank" rel="noopener">phpenv</a></u>。</p>
<h2 id="php-version"><a href="#php-version" class="headerlink" title="php-version"></a>php-version</h2><p>GitHub：<u><a href="https://github.com/wilmoore/php-version" target="_blank" rel="noopener">php-version</a></u>。</p>
<h2 id="php-osx-liip-ch"><a href="#php-osx-liip-ch" class="headerlink" title="php-osx.liip.ch"></a>php-osx.liip.ch</h2><p>官网：<u><a href="https://php-osx.liip.ch/" target="_blank" rel="noopener">PHP 5.3 to 7.1 for OS X / macOS 10.6 to 10.12 as binary package</a></u>。 </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -s <span class="string">https:</span><span class="comment">//php-osx.liip.ch/install.sh | bash -s 7.3</span></span><br><span class="line">curl -s <span class="string">https:</span><span class="comment">//php-osx.liip.ch/install.sh | bash -s 7.2</span></span><br><span class="line">curl -s <span class="string">https:</span><span class="comment">//php-osx.liip.ch/install.sh | bash -s 5.6</span></span><br></pre></td></tr></table></figure>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="pickle"><a href="#pickle" class="headerlink" title="pickle"></a><u><a href="https://github.com/FriendsOfPhp/pickle" target="_blank" rel="noopener">pickle</a></u></h2><p>跨平台的 PHP 扩展安装工具，详见 <a href="https://github.com/FriendsOfPhp/pickle" target="_blank" rel="noopener">GitHub</a>。</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pickle.phar <span class="keyword">install</span> vld</span><br></pre></td></tr></table></figure>
<h2 id="懒人必备：Oneinstack"><a href="#懒人必备：Oneinstack" class="headerlink" title="懒人必备：Oneinstack"></a>懒人必备：Oneinstack</h2><p>使用很简单，阿里云有些 ECS 就是用这个搭建的环境。</p>
<p>按照 <u><a href="https://oneinstack.com/install/" target="_blank" rel="noopener">官网</a></u>做就行了，问你安装什么你选择就是了，对于纯 PHP 项目来说一般只需要先安装基本的 LNMP 就行了。</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># CentOS</span></span><br><span class="line">yum -y install wget screen curl python</span><br><span class="line"><span class="meta"># Debian</span></span><br><span class="line">apt-<span class="keyword">get</span> -y install wget screen curl python</span><br><span class="line"><span class="meta"># 阿里云用户下载</span></span><br><span class="line">wget http:<span class="comment">//aliyun-oss.linuxeye.com/oneinstack-full.tar.gz</span></span><br><span class="line"><span class="meta"># 包含源码，国内外均可下载</span></span><br><span class="line">wget http:<span class="comment">//mirrors.linuxeye.com/oneinstack-full.tar.gz</span></span><br><span class="line"><span class="meta"># 不包含源码，建议仅国外主机下载</span></span><br><span class="line">wget http:<span class="comment">//mirrors.linuxeye.com/oneinstack.tar.gz</span></span><br><span class="line">tar xzf oneinstack-full.tar.gz</span><br><span class="line"><span class="meta"># 如果需要修改目录(安装、数据存储、Nginx日志)，请修改options.conf文件</span></span><br><span class="line">cd oneinstack</span><br><span class="line"><span class="meta"># 如果网路出现中断，可以执行命令`screen -r oneinstack`重新连接安装窗口</span></span><br><span class="line">screen -S oneinstack</span><br><span class="line">./install.sh     # 注：请勿sh install.sh或者bash install.sh这样执行</span><br></pre></td></tr></table></figure>
<p>以下是常用的脚本和文件：</p>
<ul>
<li><code>vhost.sh</code>：创建虚拟主机</li>
<li><code>addons.sh</code>：添加常用扩展。</li>
<li><code>version.txt</code>：这里面保存的是 <code>Oneinstack</code> 安装下载时会寻找的版本，如果安装前想要手动指定某个软件包的版本，可以直接修改这个文件。</li>
<li><code>upgrade.sh</code>：更新软件包，也可以用于切换 PHP 版本。</li>
</ul>
<h2 id="All-in-one-集成环境"><a href="#All-in-one-集成环境" class="headerlink" title="All-in-one 集成环境"></a>All-in-one 集成环境</h2><ul>
<li>Linux：<u><a href="https://oneinstack.com/download/" target="_blank" rel="noopener">Oneinstack</a></u></li>
<li>macOS：自带 &amp;&amp; <u><a href="https://www.mamp.info/en/" target="_blank" rel="noopener">MAMPs</a></u></li>
<li>Windows：<u><a href="https://sourceforge.net/projects/wampserver/" target="_blank" rel="noopener">WAMP</a></u> or <u><a href="http://phpstudy.php.cn/" target="_blank" rel="noopener">phpStudy</a></u></li>
</ul>
<h1 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h1><ul>
<li>安装部分扩展时候编译成功安装到 <code>php-config --extension-dir</code> 时不能写入？</li>
</ul>
<blockquote>
<p>必须像Dan Willis建议的那样禁用系统完整性保护。</p>
<ol>
<li>重启你的电脑。</li>
<li>当屏幕变黑时按住 <code>command+r</code> 直到您启动恢复。您将看到<code>OS X Utilities</code>菜单。</li>
<li>下一个开放终端。然后输入以下命令：<code>csrutil disable</code><br>确保将其写下来以便记住它。</li>
<li>重启你的mac，让它正常启动。</li>
<li>再次打开终端并再次安装INTL：<code>sudo pecl install intl</code><br>它现在将完成安装。</li>
</ol>
</blockquote>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li><u><a href="https://stackoverflow.com/questions/1385346/what-are-differences-between-pecl-and-pear" target="_blank" rel="noopener">What are differences between PECL and PEAR?</a></u></li>
<li><u><a href="https://stackoverflow.com/questions/34199824/what-is-the-difference-between-pear-and-composer" target="_blank" rel="noopener">What is the difference between PEAR and Composer? [closed]</a></u></li>
<li><u><a href="https://stackoverflow.com/questions/33220553/failed-to-write-error-when-installing-intl-extension-on-os-x-el-capitan" target="_blank" rel="noopener">Failed to write error when installing intl extension on Os x El Capitan</a></u></li>
<li><u><a href="https://pear.php.net/manual/en/installation.checking.php" target="_blank" rel="noopener">Checking if PEAR works</a></u></li>
<li><u><a href="http://blog.cjli.info/2017/01/12/All-About-Installations-Relate-To-PHP/" target="_blank" rel="noopener">和 PHP 相关的「安装」</a></u></li>
</ul>

        
      
    </div>

    <footer class="article-footer">
      
      
      <div>
        <ul class="post-copyright">
          <li class="post-copyright-author">
          <strong>本文作者:  </strong>CAO XIAN LIANG</a>
          </li>
          <li class="post-copyright-link">
          <strong>本文链接:  </strong>
          <a href="/2018/08/21/PHP-Install-Dev-Log/" target="_blank" title="PHP 「安装日志」">http://blog.caoxl.com/2018/08/21/PHP-Install-Dev-Log/</a>
          </li>
          <li class="post-copyright-license">
            <strong>版权声明:   </strong>
            本博客所有文章除特别声明外，均采用 <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
            许可协议。转载请注明出处
          </li>
         
        </ul>
<div>

      
      
      
      
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Install/">Install</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/">PHP</a></li></ul>

      

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/08/22/Linux-Tool-sar/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          Linux sar 找出系统瓶颈的利器
        
      </div>
    </a>
  
  
    <a href="/2018/08/20/Redis-use-log/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">Redis 使用日志</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#PECL"><span class="nav-number">1.</span> <span class="nav-text">PECL</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PEAR"><span class="nav-number">2.</span> <span class="nav-text">PEAR</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PEAR-vs-PECL"><span class="nav-number">2.1.</span> <span class="nav-text">PEAR vs PECL</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装-PEAR／PECL"><span class="nav-number">2.2.</span> <span class="nav-text">安装 PEAR／PECL</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#通过-PECL-和-PEAR-安装-PHP-扩展"><span class="nav-number">2.3.</span> <span class="nav-text">通过 PECL 和 PEAR 安装 PHP 扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#说明"><span class="nav-number">2.3.1.</span> <span class="nav-text">说明</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Composer"><span class="nav-number">3.</span> <span class="nav-text">Composer</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Composer-与-Packagist"><span class="nav-number">3.1.</span> <span class="nav-text">Composer 与 Packagist</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Composer-vs-PEAR"><span class="nav-number">3.2.</span> <span class="nav-text">Composer vs PEAR</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#软件包管理器"><span class="nav-number">4.</span> <span class="nav-text">软件包管理器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux"><span class="nav-number">4.1.</span> <span class="nav-text">Linux</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#yum-dnf"><span class="nav-number">4.1.1.</span> <span class="nav-text">yum/dnf</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#apt-get"><span class="nav-number">4.1.2.</span> <span class="nav-text">apt-get</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mac"><span class="nav-number">4.2.</span> <span class="nav-text">Mac</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Homebrew"><span class="nav-number">4.2.1.</span> <span class="nav-text">Homebrew</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Macports"><span class="nav-number">4.2.2.</span> <span class="nav-text">Macports</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#源码安装"><span class="nav-number">5.</span> <span class="nav-text">源码安装</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#源码安装-PHP"><span class="nav-number">5.1.</span> <span class="nav-text">源码安装 PHP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#源码安装-PHP-扩展"><span class="nav-number">5.2.</span> <span class="nav-text">源码安装 PHP 扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#源码安装官方扩展"><span class="nav-number">5.2.1.</span> <span class="nav-text">源码安装官方扩展</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#源码安装第三方扩展"><span class="nav-number">5.2.2.</span> <span class="nav-text">源码安装第三方扩展</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#部分操作解释"><span class="nav-number">5.2.3.</span> <span class="nav-text">部分操作解释</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PHP-版本切换"><span class="nav-number">6.</span> <span class="nav-text">PHP 版本切换</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#phpbrew"><span class="nav-number">6.1.</span> <span class="nav-text">phpbrew</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#phpenv"><span class="nav-number">6.2.</span> <span class="nav-text">phpenv</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#php-version"><span class="nav-number">6.3.</span> <span class="nav-text">php-version</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#php-osx-liip-ch"><span class="nav-number">6.4.</span> <span class="nav-text">php-osx.liip.ch</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#其他"><span class="nav-number">7.</span> <span class="nav-text">其他</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#pickle"><span class="nav-number">7.1.</span> <span class="nav-text">pickle</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#懒人必备：Oneinstack"><span class="nav-number">7.2.</span> <span class="nav-text">懒人必备：Oneinstack</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#All-in-one-集成环境"><span class="nav-number">7.3.</span> <span class="nav-text">All-in-one 集成环境</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#FAQ"><span class="nav-number">8.</span> <span class="nav-text">FAQ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#参考"><span class="nav-number">9.</span> <span class="nav-text">参考</span></a></li></ol>
    
    </div>
  </aside>

</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2017 - 2020 Keep It Simple And Stupid All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				访客数 : <span id="busuanzi_value_site_uv"></span> |  
				访问量 : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



<script src="/js/scripts.js"></script>




  <script src="/js/dialog.js"></script>








	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Keep It Simple And Stupid
          </div>
          <div class="panel-body">
            Copyright © 2020 CAO XIAN LIANG All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>